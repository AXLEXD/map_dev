{"map":"{\"version\":3,\"sources\":[\"/Users/alex/Programming/web_development/map_dev_server/client/src/App.js\",\"/Users/alex/Programming/web_development/map_dev_server/client/src/reportWebVitals.js\",\"/Users/alex/Programming/web_development/map_dev_server/client/src/index.js\"],\"names\":[\"_regeneratorRuntime\",\"exports\",\"Op\",\"Object\",\"prototype\",\"hasOwn\",\"hasOwnProperty\",\"defineProperty\",\"obj\",\"key\",\"desc\",\"value\",\"$Symbol\",\"Symbol\",\"iteratorSymbol\",\"iterator\",\"asyncIteratorSymbol\",\"asyncIterator\",\"toStringTagSymbol\",\"toStringTag\",\"define\",\"enumerable\",\"configurable\",\"writable\",\"err\",\"wrap\",\"innerFn\",\"outerFn\",\"self\",\"tryLocsList\",\"protoGenerator\",\"Generator\",\"generator\",\"create\",\"context\",\"Context\",\"makeInvokeMethod\",\"tryCatch\",\"fn\",\"arg\",\"type\",\"call\",\"ContinueSentinel\",\"GeneratorFunction\",\"GeneratorFunctionPrototype\",\"IteratorPrototype\",\"this\",\"getProto\",\"getPrototypeOf\",\"NativeIteratorPrototype\",\"values\",\"Gp\",\"defineIteratorMethods\",\"forEach\",\"method\",\"_invoke\",\"AsyncIterator\",\"PromiseImpl\",\"previousPromise\",\"callInvokeWithMethodAndArg\",\"resolve\",\"reject\",\"invoke\",\"record\",\"result\",\"__await\",\"then\",\"unwrapped\",\"error\",\"state\",\"Error\",\"doneResult\",\"delegate\",\"delegateResult\",\"maybeInvokeDelegate\",\"sent\",\"_sent\",\"dispatchException\",\"abrupt\",\"done\",\"methodName\",\"undefined\",\"return\",\"TypeError\",\"info\",\"resultName\",\"next\",\"nextLoc\",\"pushTryEntry\",\"locs\",\"entry\",\"tryLoc\",\"catchLoc\",\"finallyLoc\",\"afterLoc\",\"tryEntries\",\"push\",\"resetTryEntry\",\"completion\",\"reset\",\"iterable\",\"iteratorMethod\",\"isNaN\",\"length\",\"i\",\"displayName\",\"isGeneratorFunction\",\"genFun\",\"ctor\",\"constructor\",\"name\",\"mark\",\"setPrototypeOf\",\"__proto__\",\"awrap\",\"async\",\"Promise\",\"iter\",\"keys\",\"val\",\"object\",\"reverse\",\"pop\",\"skipTempReset\",\"prev\",\"charAt\",\"slice\",\"stop\",\"rootRecord\",\"rval\",\"exception\",\"handle\",\"loc\",\"caught\",\"hasCatch\",\"hasFinally\",\"finallyEntry\",\"complete\",\"finish\",\"catch\",\"thrown\",\"delegateYield\",\"DRAWTOOL\",\"MOVETOOL\",\"colors\",\"plotLineLow\",\"x0\",\"y0\",\"x1\",\"y1\",\"drawFunc\",\"dx\",\"dy\",\"yi\",\"D\",\"y\",\"x\",\"plotLineHigh\",\"xi\",\"plotLine\",\"p1\",\"p2\",\"offset\",\"Math\",\"abs\",\"colorTo32Uint\",\"colorstring\",\"parseInt\",\"substring\",\"colorToString\",\"colornum\",\"toString\",\"padStart\",\"Vector2D\",\"_classCallCheck\",\"_createClass\",\"othervector\",\"number\",\"Map\",\"data\",\"dataview\",\"numchunks\",\"cellsize\",\"canvas\",\"scale\",\"chunkpixels\",\"startpoint\",\"floor\",\"_canvas$getBoundingCl\",\"getBoundingClientRect\",\"width\",\"height\",\"ceil\",\"_setMatrix\",\"_asyncToGenerator\",\"_callee\",\"dimn\",\"start\",\"lines\",\"changeTranscodeTime\",\"coords\",\"map_grid\",\"j\",\"coordsobj\",\"_context\",\"fetch\",\"headers\",\"Accept\",\"Content-Type\",\"body\",\"JSON\",\"stringify\",\"arrayBuffer\",\"chunkbuffer\",\"current\",\"Date\",\"now\",\"ArrayBuffer\",\"byteLength\",\"Uint32Array\",\"Uint32data\",\"k\",\"l\",\"bmp_index\",\"color\",\"getDataIndex\",\"finalcolor\",\"a\",\"b\",\"relative_index\",\"_x\",\"_x2\",\"_x3\",\"_x4\",\"_x5\",\"apply\",\"arguments\",\"currentcell\",\"index\",\"colorhex\",\"AppWrapper\",\"_React$Component\",\"props\",\"_this\",\"_possibleConstructorReturn\",\"_getPrototypeOf\",\"tool_mode\",\"debug_mode\",\"show_stats\",\"color_selected\",\"update\",\"time\",\"tot_time\",\"num_updates\",\"transcode\",\"draw\",\"cursorx\",\"cursory\",\"offsetx\",\"offsety\",\"chunkx\",\"chunky\",\"cxstart\",\"cystart\",\"cxend\",\"cyend\",\"getColorSelected\",\"getDebugMode\",\"getToolMode\",\"changeToolMode\",\"change_to\",\"setState\",\"changeColor\",\"out_num\",\"isSelected\",\"changeUpdateTime\",\"new_time\",\"changeDrawTime\",\"changeCursorLoc\",\"vector\",\"changeOffsetLoc\",\"changeChunkLoc\",\"_inherits\",\"document\",\"style\",\"overflow\",\"filename\",\"x2\",\"y2\",\"response\",\"get\",\"split\",\"blob\",\"pngblob\",\"url\",\"window\",\"URL\",\"createObjectURL\",\"link\",\"createElement\",\"href\",\"setAttribute\",\"appendChild\",\"click\",\"parentNode\",\"removeChild\",\"_this2\",\"React\",\"className\",\"MapCanvas\",\"toolmode\",\"Palette\",\"position\",\"right\",\"round\",\"onClick\",\"checked\",\"onChange\",\"defaultValue\",\"e\",\"target\",\"mapDownload\",\"src\",\"alt\",\"Component\",\"_React$Component2\",\"_this3\",\"drawLines\",\"lastdraw\",\"tempscale\",\"cellpos\",\"canvasRef\",\"createRef\",\"mapoffset\",\"celloffset\",\"cursorcurrent\",\"lmousedown\",\"rmousedown\",\"mousepos\",\"replacecanvas\",\"is_updating\",\"drawcache\",\"_this4\",\"resizeCanvas\",\"addEventListener\",\"setTimeout\",\"updateCanvas\",\"event\",\"rect\",\"clientX\",\"left\",\"clientY\",\"top\",\"pos\",\"end\",\"transform\",\"setTo\",\"isupdate\",\"_this5\",\"doFill\",\"mapoffset_x\",\"mapoffset_y\",\"ctx\",\"fillRect\",\"imageData\",\"ImageData\",\"Uint8ClampedArray\",\"getContext\",\"rctx\",\"clearRect\",\"putImageData\",\"_canvas$getBoundingCl2\",\"fillStyle\",\"offset_x\",\"offset_y\",\"drawImage\",\"beginPath\",\"lineWidth\",\"moveTo\",\"lineTo\",\"stroke\",\"linearray\",\"line\",\"currentpos\",\"_this5$map_grid$getCh\",\"getChunkPosOffset\",\"blockid\",\"_this6\",\"tempupdatescale\",\"_this$map_grid$getVal\",\"getValues\",\"multipliedby\",\"linestosend\",\"setMatrix\",\"canvasscale\",\"drawMap\",\"shift\",\"_canvas$getBoundingCl3\",\"_window$devicePixelRa\",\"devicePixelRatio\",\"ratio\",\"scalex\",\"scaley\",\"_this$map_grid$getChu\",\"dataindex\",\"addCell\",\"newcursorcurrent\",\"getCursorPosition\",\"moveMap\",\"newcurrentcell\",\"getCurrentCell\",\"isEqualTo\",\"drawLine\",\"drawobj\",\"_this8\",\"ref\",\"cursor\",\"getCursor\",\"onContextMenu\",\"preventDefault\",\"onMouseDown\",\"button\",\"console\",\"log\",\"_this8$map_grid$getCh\",\"onMouseUp\",\"onMouseMove\",\"moveCursor\",\"onMouseLeave\",\"onWheel\",\"newscale\",\"deltaY\",\"oldtempscale\",\"scalenum\",\"_React$Component3\",\"_this9\",\"handleChange\",\"_this10\",\"map\",\"backgroundColor\",\"concat\",\"App\",\"reportWebVitals\",\"onPerfEntry\",\"Function\",\"__webpack_require__\",\"bind\",\"_ref\",\"getCLS\",\"getFID\",\"getFCP\",\"getLCP\",\"getTTFB\",\"ReactDOM\",\"createRoot\",\"getElementById\",\"render\",\"StrictMode\"],\"mappings\":\"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\",\"sourcesContent\":[\"import './App.css';\\nimport React, { createRef } from 'react';\\n\\n\\nconst UPDATEPERIOD = 1000;\\n\\nconst CHUNKSIZE = 16;\\n\\nconst LOWESTSCALE = 1;\\n\\nconst DRAWTOOL = 0;\\nconst EYEDROPTOOL = 1;\\nconst MOVETOOL = 2;\\n  \\n// const blocks = [\\n//     {\\n//         blockid: '0',\\n//         blockname: '1',\\n//         imagesrc: '#ffffff'\\n//     },\\n//     {\\n//         blockid: '1',\\n//         blockname: '2',\\n//         imagesrc: '#d1e7dc'\\n//     },\\n//     {\\n//         blockid: '2',\\n//         blockname: '3',\\n//         imagesrc: '#c4d4e1'\\n//     },\\n//     {\\n//         blockid: '3',\\n//         blockname: '4',\\n//         imagesrc: '#bcb5d3'\\n//     },\\n//     {\\n//         blockid: '4',\\n//         blockname: '5',\\n//         imagesrc: '#f5dbe2'\\n//     },\\n//     {\\n//         blockid: '5',\\n//         blockname: '6',\\n//         imagesrc: '#eeb6c9'\\n//     },\\n//     {\\n//         blockid: '6',\\n//         blockname: '7',\\n//         imagesrc: '#c49abf'\\n//     },\\n//     {\\n//         blockid: '7',\\n//         blockname: '8',\\n//         imagesrc: '#bada55'\\n//     },\\n//     {\\n//         blockid: '8',\\n//         blockname: '9',\\n//         imagesrc: '#ffd700'\\n//     },\\n//     {\\n//         blockid: '9',\\n//         blockname: '10',\\n//         imagesrc: '#f47b79'\\n//     },\\n//     {\\n//         blockid: 'a',\\n//         blockname: '11',\\n//         imagesrc: '#c6e2d4'\\n//     },\\n//     {\\n//         blockid: 'b',\\n//         blockname: '12',\\n//         imagesrc: '#b6d3c2'\\n//     },\\n//     {\\n//         blockid: 'c',\\n//         blockname: '13',\\n//         imagesrc: '#e0b1cb'\\n//     },\\n//     {\\n//         blockid: 'd',\\n//         blockname: '14',\\n//         imagesrc: '#d0a7b7'\\n//     },\\n//     {\\n//         blockid: 'e',\\n//         blockname: '15',\\n//         imagesrc: '#f3d1d3'\\n//     },\\n//     {\\n//         blockid: 'f',\\n//         blockname: '16',\\n//         imagesrc: '#e9b8c8'\\n//     }\\n// ];\\n\\nconst colors = [\\n    \\\"#000000\\\", // Black\\n    \\\"#FFFFFF\\\", // White\\n    \\\"#FF0000\\\", // Red\\n    \\\"#00FF00\\\", // Green\\n    \\\"#0000FF\\\", // Blue\\n    \\\"#FFFF00\\\", // Yellow\\n    \\\"#FF00FF\\\", // Magenta\\n    \\\"#00FFFF\\\", // Cyan\\n    \\\"#800000\\\", // Maroon\\n    \\\"#008000\\\", // Olive\\n    \\\"#000080\\\", // Navy\\n    \\\"#808000\\\", // Olive Drab\\n    \\\"#800080\\\", // Purple\\n    \\\"#008080\\\", // Teal\\n    \\\"#808080\\\", // Gray\\n    \\\"#C0C0C0\\\", // Silver\\n    \\\"#FFC0CB\\\", // Pink\\n    \\\"#FFA07A\\\", // Light Salmon\\n    \\\"#FF7F50\\\", // Coral\\n    \\\"#FF6347\\\", // Tomato\\n    \\\"#FF4500\\\", // Orange Red\\n    \\\"#FF8C00\\\", // Dark Orange\\n    \\\"#FFD700\\\", // Gold\\n    \\\"#FFFFE0\\\", // Light Yellow\\n    \\\"#EEE8AA\\\", // Pale Goldenrod\\n    \\\"#ADFF2F\\\", // Green Yellow\\n    \\\"#32CD32\\\", // Lime Green\\n    \\\"#00FA9A\\\", // Medium Spring Green\\n    \\\"#00CED1\\\", // Dark Turquoise\\n    \\\"#6A5ACD\\\", // Slate Blue\\n    \\\"#7B68EE\\\", // Medium Slate Blue\\n    \\\"#FF69B4\\\", // Hot Pink\\n    \\\"#8B4513\\\" // Saddle Brown\\n  ];\\n  \\n\\n\\nfunction plotLineLow(x0, y0, x1, y1, drawFunc) {\\n    let dx = x1 - x0;\\n    let dy = y1 - y0;\\n    let yi = 1;\\n    if (dy < 0) {\\n        yi = -1;\\n        dy = -dy;\\n    }\\n    let D = (2 * dy) - dx;\\n    let y = y0;\\n\\n    for (let x = x0;x<x1+1;x++) {\\n        drawFunc(x, y);\\n        if (D > 0) {\\n            y = y + yi;\\n            D = D + (2 * (dy - dx));\\n        } else {\\n            D = D + 2*dy;\\n        }\\n    }\\n}\\nfunction plotLineHigh(x0, y0, x1, y1, drawFunc) {\\n    let dx = x1 - x0;\\n    let dy = y1 - y0;\\n    let xi = 1;\\n    if (dx < 0) {\\n        xi = -1;\\n        dx = -dx;\\n    }\\n    let D = (2 * dx) - dy;\\n    let x = x0;\\n\\n    for (let y = y0;y<y1+1;y++) {\\n        drawFunc(x, y);\\n        if (D > 0) {\\n            x = x + xi;\\n            D = D + (2 * (dx - dy));\\n        } else {\\n            D = D + 2*dx;\\n        }\\n    }\\n}\\n\\nfunction plotLine(p1, p2, offset, drawFunc) {\\n    \\n    let x0 = p1.x+offset.x;\\n    let y0 = p1.y+offset.y;\\n    \\n    let x1 = p2.x+offset.x;\\n    let y1 = p2.y+offset.y;\\n\\n    if (x0===x1 && y0===y1) drawFunc(x0,y0);\\n\\n\\n    if (Math.abs(y1 - y0) < Math.abs(x1 - x0)) {\\n        if (x0 > x1) plotLineLow(x1, y1, x0, y0, drawFunc);\\n        else plotLineLow(x0, y0, x1, y1, drawFunc);\\n    }\\n    else {\\n        if (y0 > y1) plotLineHigh(x1, y1, x0, y0, drawFunc);\\n        else plotLineHigh(x0, y0, x1, y1, drawFunc);\\n    }\\n}\\n\\n\\nfunction colorTo32Uint(colorstring) {\\n    return parseInt(colorstring.substring(1), 16);\\n}\\nfunction colorToString(colornum) {\\n    return \\\"#\\\" + (colornum & 0x00FFFFFF).toString(16).padStart(6, '0');\\n}\\n\\nclass Vector2D {\\n    constructor(x,y) {\\n        this.x = x;\\n        this.y = y;\\n    }\\n\\n    transform(x,y) {\\n        this.x += x;\\n        this.y += y;\\n    }\\n\\n    setTo(x,y) {\\n        this.x = x;\\n        this.y = y;\\n    }\\n\\n    isEqualTo(othervector) {\\n        return (this.x===othervector.x && this.y===othervector.y);\\n    }\\n    notEqualTo(othervector) {\\n        return (this.x!==othervector.x || this.y!==othervector.y);\\n    }\\n\\n    positive() {\\n        return (this.x >= 0 && this.y >=0);\\n    }\\n\\n    multipliedby(number) {\\n        return new Vector2D(this.x*number,this.y*number);\\n    }\\n    transformedby(x,y) {\\n        return new Vector2D(this.x+x,this.y+y);\\n    }\\n}\\n\\n\\nclass Map {\\n    constructor() {\\n        // this.canvasdimensions = new Vector2D(w,h); // establishing at start means no resizing canvas element\\n        this.data = null;\\n        this.dataview = null;\\n        this.numchunks = null;\\n        this.cellsize = 2;\\n    }\\n\\n    getValues(canvas, offset, scale) {\\n        let chunkpixels = CHUNKSIZE*scale;\\n\\n        let numchunks = new Vector2D(0,0);\\n        let startpoint = new Vector2D(0,0);\\n\\n        startpoint.x = (offset.x === 0) ? 0 : Math.floor((-1*offset.x)/chunkpixels);\\n        startpoint.y = (offset.y === 0) ? 0 : Math.floor((-1*offset.y)/chunkpixels);\\n\\n        const { width, height } = canvas.getBoundingClientRect();\\n\\n        numchunks.x = Math.ceil(width/chunkpixels)+1; // bit cheaty - should probs optimise\\n        numchunks.y = Math.ceil(height/chunkpixels)+1;\\n\\n        return {startpoint, numchunks};\\n    }\\n\\n    async setMatrix(dimn, start, lines, cellsize, changeTranscodeTime) {\\n\\n        let coords = [];\\n        let map_grid = this;\\n\\n        for (let i=0;i<dimn.x;i++) {\\n            for (let j=0;j<dimn.y;j++) {\\n                let coordsobj = { x: start.x+i, y: start.y+j };\\n                coords.push(coordsobj);    \\n            }\\n        }\\n        return new Promise(function(resolve, reject) {\\n            fetch('/getchunks',{\\n                method: 'POST',\\n                headers: {'Accept': 'application/octet-stream', 'Content-Type': 'application/json'},\\n                body: JSON.stringify({coords:coords, lines:lines})\\n            }).then((data)=>{\\n                return data.arrayBuffer();\\n            }).then((chunkbuffer) => {\\n                \\n                map_grid.numchunks = dimn;\\n                let current = Date.now();\\n\\n                // const cellsize = 10;\\n                map_grid.data = new ArrayBuffer(chunkbuffer.byteLength*cellsize*cellsize);\\n                map_grid.dataview = new Uint32Array(map_grid.data);\\n\\n                let Uint32data = new Uint32Array(chunkbuffer);\\n                \\n                for (let i=0;i<map_grid.numchunks.x;i++) {\\n                    for (let j=0;j<map_grid.numchunks.y;j++) {\\n                        for (let k=0;k<CHUNKSIZE;k++) {\\n                            for (let l=0;l<CHUNKSIZE;l++) {\\n                                let bmp_index = i*CHUNKSIZE*cellsize + j*map_grid.numchunks.x*(CHUNKSIZE*CHUNKSIZE)*cellsize*cellsize + k*cellsize + l*map_grid.numchunks.x*CHUNKSIZE*cellsize*cellsize;\\n                                let alex_index = map_grid.getDataIndex(i,j,k,l);\\n                                let color = Uint32data[alex_index];\\n                                let finalcolor = ((color << 16)&0x00FF0000) | ((color)&0xFF00FF00) | ((color>>16)&0x000000FF);\\n\\n                                for (let a=0;a<cellsize;a++) {\\n                                    for (let b=0;b<cellsize;b++) {\\n                                        let relative_index = bmp_index + a + b*map_grid.numchunks.x*CHUNKSIZE*cellsize;\\n                                        map_grid.dataview[relative_index] = finalcolor;\\n                                    }\\n                                }\\n                            }\\n                        }\\n                    }\\n                }\\n                map_grid.cellsize = cellsize;\\n                changeTranscodeTime(Date.now()-current);\\n                resolve();\\n            });\\n        });\\n    }\\n\\n    getChunkPosOffset(currentcell, startpoint) {\\n        const i = Math.floor((currentcell.x/CHUNKSIZE))-startpoint.x;\\n        const k = currentcell.x - (i+startpoint.x)*CHUNKSIZE;\\n\\n        const j = Math.floor((currentcell.y/CHUNKSIZE))-startpoint.y;\\n        const l = currentcell.y - (j+startpoint.y)*CHUNKSIZE;\\n\\n\\n        return {i, j, k, l};\\n    }\\n\\n    addCell(index,colorhex) {\\n        this.dataview[index] = colorhex;\\n        // console.log(data[index], colorhex);\\n    }\\n    getDataIndex(i,j,k,l) {\\n        return i*(this.numchunks.y)*(CHUNKSIZE*CHUNKSIZE)+j*(CHUNKSIZE*CHUNKSIZE)+k*CHUNKSIZE+l;\\n    }\\n}\\n\\n\\nclass AppWrapper extends React.Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            tool_mode: MOVETOOL,\\n            debug_mode: false,\\n            show_stats: true,\\n            color_selected: 1672153, \\n            update: {\\n                time: 0,\\n                tot_time: 0,\\n                num_updates: 1\\n            },\\n            transcode: {\\n                time: 0,\\n                tot_time: 0,\\n                num_updates: 1\\n            },\\n            draw: {\\n                time: 0,\\n                tot_time: 0,\\n                num_updates: 1\\n            },\\n            cursorx: 0,\\n            cursory: 0,\\n            offsetx: 0,\\n            offsety: 0,\\n            chunkx: 0,\\n            chunky: 0,\\n\\n            cxstart:0,\\n            cystart:0,\\n            cxend:0,\\n            cyend:0\\n        };\\n\\n        this.getColorSelected = () => {return this.state.color_selected};\\n        this.getDebugMode = () => {return this.state.debug_mode};\\n        this.getToolMode = () => {return this.state.tool_mode};\\n\\n        this.changeToolMode = (change_to) => {\\n            this.setState({tool_mode: change_to});\\n        }\\n\\n        this.changeColor = (color) => {\\n            if (typeof color === 'string') {\\n                let out_num = colorTo32Uint(color);\\n                this.setState({color_selected: out_num});\\n            }\\n            else if (typeof color === 'number') {\\n                this.setState({color_selected: color});\\n            }\\n            this.changeToolMode(DRAWTOOL);\\n        };\\n        this.isSelected = (color) => {\\n            if (typeof color === 'string') {\\n                let out_num = colorTo32Uint(color);\\n                return (out_num===this.state.color_selected);\\n            }\\n            else if (typeof color === 'number') {\\n                return (color===this.state.color_selected);\\n            }\\n        };\\n\\n        this.changeUpdateTime = (new_time) => {\\n            this.setState({update:{\\n                time: new_time, \\n                tot_time: this.state.update.tot_time+new_time, \\n                num_updates: this.state.update.num_updates+1\\n            }});\\n        }\\n        this.changeTranscodeTime = (new_time) => {\\n            this.setState({transcode:{\\n                time: new_time, \\n                tot_time: this.state.transcode.tot_time+new_time, \\n                num_updates: this.state.transcode.num_updates+1\\n            }});\\n        }\\n        this.changeDrawTime = (new_time) => {\\n            this.setState({draw:{\\n                time: new_time, \\n                tot_time: this.state.draw.tot_time+new_time, \\n                num_updates: this.state.draw.num_updates+1\\n            }});\\n        }\\n        this.changeCursorLoc = (vector) => {\\n            this.setState({cursorx: vector.x,cursory: vector.y});\\n        }\\n        this.changeOffsetLoc = (vector) => {\\n            this.setState({offsetx: vector.x,offsety: vector.y});\\n        }\\n        this.changeChunkLoc = (x,y) => {\\n            this.setState({chunkx: x,chunky: y});\\n        }\\n    }\\n\\n    componentDidMount() {\\n        document.body.style.overflow = \\\"hidden\\\"; // stops user from scrolling the page\\n    }\\n\\n    mapDownload() {\\n        let filename;\\n        let coordsobj = {x1:this.state.cxstart,y1:this.state.cystart,x2:this.state.cxend,y2:this.state.cyend};\\n        if (coordsobj.x1===coordsobj.x2 || coordsobj.y1===coordsobj.y2 || coordsobj.x1>coordsobj.x2 || coordsobj.y1>coordsobj.y2) return;\\n\\n        fetch('/getimage',{\\n            method: 'POST',\\n            headers: {'Accept': 'application/octet-stream', 'Content-Type': 'application/json'},\\n            body: JSON.stringify(coordsobj)\\n        }).then((response) => {\\n            filename = response.headers.get('Content-Disposition').split('\\\"')[1];\\n            return response.blob()\\n        })\\n        .then((pngblob) => {\\n            const url = window.URL.createObjectURL(pngblob);\\n            const link = document.createElement('a');\\n            link.href = url;\\n            link.setAttribute('download',filename);\\n            document.body.appendChild(link);\\n            link.click();\\n            link.parentNode.removeChild(link);\\n        });\\n    }\\n\\n    render() {\\n        return (\\n            <div className='App-wrapper'>\\n                <MapCanvas \\n                    toolmode={this.state.tool_mode}\\n                    getToolMode={this.getToolMode}\\n                    changeToolMode={this.changeToolMode}\\n                    getDebugMode={this.getDebugMode}\\n                    changeUpdateTime={this.changeUpdateTime}\\n                    changeTranscodeTime={this.changeTranscodeTime}\\n                    changeDrawTime={this.changeDrawTime}\\n                    getColorSelected={this.getColorSelected}\\n                    changeCursorLoc={this.changeCursorLoc}\\n                    changeOffsetLoc={this.changeOffsetLoc}\\n                    changeChunkLoc={this.changeChunkLoc}\\n                    changeColor={this.changeColor}\\n                />\\n                <Palette isSelected={this.isSelected} changeColor={this.changeColor} color={this.state.color_selected}/>\\n                <div className='drawer primary'>\\n                    {(this.state.show_stats)?(<div style={{position: `absolute`,right:`0.8vw`}}>\\n                        ({this.state.update.time}ms, avg: {Math.round(this.state.update.tot_time/this.state.update.num_updates)}ms, {this.state.update.num_updates} updates)\\n                        <br/>({this.state.transcode.time}ms, avg: {Math.round(this.state.transcode.tot_time/this.state.transcode.num_updates)}ms, {this.state.transcode.num_updates} transcodes);\\n                        <br/>({this.state.draw.time}ms, avg: {Math.round(this.state.draw.tot_time/this.state.draw.num_updates)}ms, {this.state.draw.num_updates} draws)\\n                        <br/>Cursor: ({this.state.cursorx},{this.state.cursory})\\n                        <br/>Offset: ({this.state.offsetx},{this.state.offsety})\\n                        <br/>Chunk: ({this.state.chunkx},{this.state.chunky})\\n                    </div>):null}\\n\\n                    <div\\n                        className={`toolbutton` + (this.getToolMode()===DRAWTOOL ? \\\"selected\\\" : \\\"\\\")+ ` blockbutton` + (this.getToolMode()===DRAWTOOL ? \\\"selected\\\" : \\\"\\\")}\\n                        onClick={() => {this.changeToolMode(DRAWTOOL)}}\\n                    >draw</div>\\n                    <div\\n                        className={`toolbutton` + (this.getToolMode()===EYEDROPTOOL ? \\\"selected\\\" : \\\"\\\")+ ` blockbutton` + (this.getToolMode()===EYEDROPTOOL ? \\\"selected\\\" : \\\"\\\")}\\n                        onClick={() => {this.changeToolMode(EYEDROPTOOL)}}\\n                    >eyedrop</div>\\n                    <div\\n                        className={`toolbutton` + (this.getToolMode()===MOVETOOL ? \\\"selected\\\" : \\\"\\\")+ ` blockbutton` + (this.getToolMode()===MOVETOOL ? \\\"selected\\\" : \\\"\\\")}\\n                        onClick={() => {this.changeToolMode(MOVETOOL)}}\\n                    >move</div>\\n                    \\n\\n                    <input checked={this.state.debug_mode} type={\\\"checkbox\\\"} onChange={()=>{this.setState({debug_mode:!this.state.debug_mode})}}></input> Debug Mode&ensp;\\n                    <input checked={this.state.show_stats} type={\\\"checkbox\\\"} onChange={()=>{this.setState({show_stats:!this.state.show_stats})}}></input> Stats\\n                    <table\\n                        className={`download-wrapper`}\\n                        // onClick={() => this.fileDownload()}\\n                    ><tbody>\\n                        <tr>\\n                            <td>\\n                                <p>from:&nbsp;</p><input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cxstart:parseInt(e.target.value)})}></input>\\n                                <input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cystart:parseInt(e.target.value)})}></input>\\n                            </td>\\n                        </tr>\\n                        <tr>\\n                            <td>\\n                                <p>to:&nbsp;</p><input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cxend:parseInt(e.target.value)})}></input>\\n                                <input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cyend:parseInt(e.target.value)})}></input>\\n                            </td>\\n                        </tr>\\n                        <tr>\\n                            <td>\\n                                <p >Save PNG:</p>\\n                                <div className={`download-button`} onClick={() => this.mapDownload()}><img src='save.png' alt='save'/></div>\\n                            </td>\\n                        </tr>\\n                    </tbody></table>\\n                </div>\\n            </div>\\n        )\\n    }\\n}\\n\\nclass MapCanvas extends React.Component {\\n    constructor(props) {\\n        super(props);\\n\\n        this.drawLines = [];\\n\\n        this.lastdraw = 0;\\n\\n        this.scale = 4;\\n        this.tempscale = this.scale;\\n\\n        this.cellpos = {i:0,j:0,k:0,l:0};\\n\\n        this.map_grid = null;\\n        this.canvasRef = createRef();\\n    \\n        this.mapoffset = new Vector2D(0,0);\\n        this.celloffset = new Vector2D(0,0);\\n        this.currentcell = new Vector2D(0,0);\\n        this.startpoint = new Vector2D(0,0);\\n\\n        this.cursorcurrent = new Vector2D(0,0);\\n        this.lmousedown = false;\\n        this.rmousedown = false;\\n        this.mousepos = new Vector2D(0,0);\\n\\n        this.canvas = null;\\n        this.replacecanvas = null;\\n\\n        this.is_updating = false;\\n        this.drawcache = [];\\n    }\\n\\n\\n    //Called after element's initialisation\\n    componentDidMount() { \\n        this.canvas = this.canvasRef.current;\\n        this.replacecanvas = document.createElement('canvas');\\n        this.map_grid = new Map();\\n        this.resizeCanvas(this.canvas);\\n        window.addEventListener('resize', ()=>this.resizeCanvas(this.canvas));\\n        setTimeout(this.updateCanvas(), UPDATEPERIOD);\\n    }\\n\\n    getCursorPosition(event, canvas) {\\n        const rect = canvas.getBoundingClientRect();\\n        const x = event.clientX - rect.left;\\n        const y = event.clientY - rect.top;\\n        const pos = new Vector2D(x/(this.tempscale/this.scale),y/(this.tempscale/this.scale));\\n        this.mousepos = pos;\\n        return pos;\\n    }\\n\\n    getCurrentCell() {\\n        let x = Math.floor((this.cursorcurrent.x-this.mapoffset.x*this.scale)/(this.scale));\\n        let y = Math.floor((this.cursorcurrent.y-this.mapoffset.y*this.scale)/(this.scale));\\n        const pos = new Vector2D(x,y);\\n        return pos;\\n    }\\n\\n    moveMap(start, end) {\\n        let x = (end.x-start.x)/this.scale;\\n        let y = (end.y-start.y)/this.scale;\\n        this.mapoffset.transform(x,y);\\n        this.celloffset.setTo(Math.floor(this.mapoffset.x),Math.floor(this.mapoffset.y));\\n        this.props.changeOffsetLoc(this.celloffset);\\n    }\\n\\n    drawMap (canvas, startpoint, isupdate) {\\n        let start =  Date.now();\\n        if (this.map_grid.data===null || this.map_grid.numchunks===null) return;\\n        const cellsize = this.map_grid.cellsize;\\n\\n        let x,y;\\n        let doFill = (i,j,k,l) => {\\n\\n            x = (((i+startpoint.x)*CHUNKSIZE+k))*(cellsize)+mapoffset_x;\\n            y = (((j+startpoint.y)*CHUNKSIZE+l))*(cellsize)+mapoffset_y;\\n            ctx.fillRect(x, y, cellsize, cellsize);\\n            // console.log(x,y,cellapparentsize);\\n        }\\n\\n        let length = this.map_grid.numchunks.x*CHUNKSIZE*cellsize;\\n        if ((this.map_grid.data.byteLength*4)%length!==0) return;\\n        let imageData = new ImageData(new Uint8ClampedArray(this.map_grid.data), length);\\n\\n        const ctx = canvas.getContext(\\\"2d\\\");\\n\\n        const rctx = this.replacecanvas.getContext(\\\"2d\\\");\\n        rctx.clearRect(0,0,this.replacecanvas.width, this.replacecanvas.height);\\n        rctx.putImageData(imageData, 0, 0);\\n\\n        const { width, height } = canvas.getBoundingClientRect();\\n        ctx.clearRect(0, 0, width, height);\\n        ctx.fillStyle = \\\"#ffffff\\\";\\n        ctx.fillRect(0, 0, width, height);\\n\\n        let mapoffset_x = Math.floor(this.mapoffset.x*cellsize);\\n        let mapoffset_y = Math.floor(this.mapoffset.y*cellsize);\\n        let offset_x = startpoint.x*CHUNKSIZE*cellsize+mapoffset_x;\\n        let offset_y = startpoint.y*CHUNKSIZE*cellsize+mapoffset_y;\\n\\n        {\\n            ctx.drawImage(this.replacecanvas, offset_x, offset_y);\\n            \\n            if (this.props.getDebugMode()) {\\n                ctx.beginPath();\\n                for (let i=0;i<this.map_grid.numchunks.x;i++) {\\n                    for (let j=0;j<this.map_grid.numchunks.y;j++) {\\n                        x = (((i+startpoint.x)*CHUNKSIZE))*cellsize+mapoffset_x;\\n                        y = (((j+startpoint.y)*CHUNKSIZE))*cellsize+mapoffset_y;\\n    \\n                        ctx.fillStyle = \\\"#000000\\\";\\n                        ctx.lineWidth = 0.01*Math.floor(this.scale);\\n                        ctx.moveTo(x, 0);\\n                        ctx.lineTo(x, height);\\n                        // ctx.stroke();\\n                        ctx.moveTo(0, y);\\n                        ctx.lineTo(width, y);\\n                    }\\n                }\\n                ctx.stroke();\\n            }\\n\\n            this.drawcache.forEach((linearray)=>{\\n                linearray.forEach((line)=>{\\n                    plotLine(line.p1, line.p2, line.offset, (x,y)=>{\\n                        const currentpos = new Vector2D(x-line.offset.x,y-line.offset.y);\\n                        const {i, j, k, l} = this.map_grid.getChunkPosOffset(currentpos, this.startpoint);\\n                        ctx.fillStyle = colorToString(line.blockid);\\n                        doFill(i, j, k, l);\\n                    });\\n                })\\n            });\\n\\n            if (this.props.toolmode===DRAWTOOL) {\\n                // doFill(this.cellpos);\\n                ctx.fillStyle = colorToString(this.props.getColorSelected())+\\\"ff\\\";\\n                doFill(this.cellpos.i, this.cellpos.j, this.cellpos.k, this.cellpos.l);\\n            }\\n        };\\n\\n        this.props.changeDrawTime(Date.now()-start);\\n    }\\n\\n    updateCanvas() {\\n        let start = Date.now(); // time testing\\n\\n        let tempupdatescale = Math.floor(this.tempscale);\\n\\n        let {startpoint, numchunks} = this.map_grid.getValues(this.canvas, this.mapoffset.multipliedby(tempupdatescale), tempupdatescale);\\n        let linestosend = this.drawLines;\\n        this.drawLines = [];\\n        this.is_updating = true;\\n        this.map_grid.setMatrix(numchunks, startpoint, linestosend, tempupdatescale, this.props.changeTranscodeTime)\\n        .then(()=>{\\n            \\n\\n            this.replacecanvas.width = tempupdatescale*numchunks.x*CHUNKSIZE;\\n            this.replacecanvas.height = tempupdatescale*numchunks.y*CHUNKSIZE;    \\n\\n            // this.canvas.getContext('2d').resetTransform();\\n            this.resizeCanvas(this.canvas);\\n            this.canvasscale(this.canvas, this.tempscale/tempupdatescale, this.tempscale/tempupdatescale)\\n            this.scale = Math.floor(this.tempscale)\\n            this.startpoint = startpoint;\\n            this.drawMap(this.canvas, startpoint, true);\\n\\n            this.props.changeUpdateTime(Date.now()-start);\\n            this.is_updating = false;\\n        }).then(()=>{\\n            // this.drawcache.forEach((draw) => {draw()});\\n            this.drawcache.push([]);\\n            if (this.drawcache.length>4) {\\n                this.drawcache.shift();\\n            }\\n            \\n        });\\n\\n        setTimeout(()=>{this.updateCanvas()}, UPDATEPERIOD);\\n    }\\n\\n    // stolen code lmao\\n    resizeCanvas(canvas) {\\n        const { width, height } = canvas.getBoundingClientRect();\\n        \\n        if (canvas.width !== width || canvas.height !== height) {\\n          const { devicePixelRatio:ratio=1 } = window;\\n          const context = canvas.getContext('2d');\\n          canvas.width = (1*width*ratio);\\n          canvas.height = (1*height*ratio);\\n          context.scale(ratio, ratio);\\n        //   canvas.style.width = `${width}px`;\\n        //   canvas.style.height = `${height}px`;\\n          return true;\\n        }\\n    \\n        return false\\n    }\\n\\n    canvasscale(canvas, scalex, scaley) {\\n        // let mousepos = this.mousepos;\\n        const ctx = canvas.getContext('2d');\\n        // const transx = mousepos.x;\\n        // const transy = mousepos.y;\\n        // ctx.translate(transx, transy);\\n        ctx.scale(scalex, scaley);\\n        // ctx.translate(-transx, -transy);\\n    }\\n\\n    drawCellAtMouse(x,y) {\\n        const currentpos = new Vector2D(x-this.celloffset.x,y-this.celloffset.y);\\n\\n        let {i, j, k, l} = this.map_grid.getChunkPosOffset(currentpos, this.startpoint);\\n        let dataindex = this.map_grid.getDataIndex(i,j,k,l);\\n        if (dataindex < this.map_grid.data.byteLength/4) this.map_grid.addCell(dataindex, this.props.getColorSelected());\\n    }\\n\\n    moveCursor(event) {\\n        let update = false;\\n        let newcursorcurrent = this.getCursorPosition(event, this.canvas);\\n        if (this.rmousedown) {\\n            this.moveMap(this.cursorcurrent, newcursorcurrent);\\n            update = true;\\n        }\\n        this.cursorcurrent = newcursorcurrent;\\n        let newcurrentcell = this.getCurrentCell();\\n        // Drawing line and updating stats\\n        if (!this.currentcell.isEqualTo(newcurrentcell)) {\\n            if (this.lmousedown) this.drawLine(this.currentcell,newcurrentcell);\\n            this.currentcell = newcurrentcell;\\n            this.cellpos = this.map_grid.getChunkPosOffset(this.currentcell, this.startpoint);\\n            this.props.changeCursorLoc(this.currentcell);\\n            this.props.changeChunkLoc(this.cellpos.i+this.startpoint.x,this.cellpos.j+this.startpoint.y);\\n            update = true;\\n        }\\n        return update;\\n    }\\n\\n    drawLine(p1,p2) {\\n        // let thisdraw = ()=>{plotLine(p1, p2, this.celloffset, (x,y)=>this.drawCellAtMouse(x,y))};\\n        let thisdraw = ()=>{\\n            let pixels = [];\\n            plotLine(p1, p2, this.celloffset, (x,y)=>{pixels.push({x:x,y:y, blockid:this.props.getColorSelected()})});\\n            return pixels;\\n        };\\n        // this.drawcache.push(thisdraw());\\n        // thisdraw();\\n        // if (this.is_updating) {this.drawcache.push(thisdraw)};\\n        let drawobj = {p1:p1,p2:p2,offset:this.celloffset,blockid:this.props.getColorSelected()};\\n        this.drawcache[this.drawcache.length-1].push(drawobj);\\n        this.drawLines.push(drawobj);\\n    }\\n\\n    render() {\\n        let getCursor = ()=>{\\n            switch (this.props.toolmode) {\\n                case EYEDROPTOOL:\\n                    return \\\"crosshair\\\";\\n                case MOVETOOL:\\n                    return \\\"move\\\";\\n                default:\\n                    return \\\"default\\\";\\n            }\\n        }\\n        return (<div>\\n            {/* <canvas ref={this.canvasRef2} style={{visibility:\\\"hidden\\\"}}></canvas> */}\\n            <canvas \\n                ref={this.canvasRef}\\n                className='map-canvas primary'\\n                style={{cursor:getCursor()}}\\n                onContextMenu={(e) => {\\n                    e.preventDefault();\\n                }}\\n                onMouseDown={(e) => {\\n                    e.preventDefault();\\n                    if (e.button === 0) {\\n                        switch (this.props.toolmode) {\\n                            case EYEDROPTOOL:\\n                                console.log(\\\"eyedroptool used\\\");\\n                                let {i,j,k,l} = this.map_grid.getChunkPosOffset(this.currentcell, this.startpoint);\\n                                let dataindex = this.map_grid.getDataIndex(i,j,k,l);\\n                                this.props.changeColor(this.map_grid.dataview[dataindex]);\\n                                // this.props.changeToolMode(DRAWTOOL);\\n                                break;\\n                            case MOVETOOL:\\n                                this.rmousedown=true;\\n                                break;\\n                            default:\\n                                this.lmousedown=true;\\n                                this.drawLine(this.currentcell,this.currentcell);\\n                                this.drawMap(this.canvas, this.startpoint);\\n                                break;\\n                        }\\n                    }\\n                    else if (e.button === 2) {\\n                        this.rmousedown=true;\\n                    }\\n                }}\\n                onMouseUp={(e) => {\\n                    this.lmousedown=false;\\n                    this.rmousedown=false;\\n                    this.drawMap(this.canvas, this.startpoint);\\n                }}\\n                onMouseMove={(e) => {\\n                    if (this.moveCursor(e)) this.drawMap(this.canvas, this.startpoint);\\n                }}\\n                onMouseLeave={(e) => {\\n                    this.moveCursor(e);\\n                    this.lmousedown=false;\\n                    this.rmousedown=false;\\n                    this.drawMap(this.canvas, this.startpoint);\\n                }}\\n                onWheel={(e) => {\\n                    let newscale = this.tempscale - Math.floor(e.deltaY)/1000;\\n                    // console.log(this.scale, this.tempscale);\\n                    let oldtempscale = this.tempscale;\\n                    if (newscale>LOWESTSCALE) this.tempscale = newscale;\\n                    else this.tempscale = LOWESTSCALE;\\n                    let oldscale = this.scale;\\n                    console.log(this.tempscale);\\n                    const scalenum = this.tempscale/oldtempscale;\\n                    this.canvasscale(this.canvas, scalenum, scalenum);\\n                    // this.scale = Math.floor(this.tempscale);\\n                    \\n                    this.drawMap(this.canvas, this.startpoint);\\n                }}\\n            ></canvas></div>\\n        )\\n    }\\n}\\n\\n// needs to be fixed up - maybe add useEffect()\\nclass Palette extends React.Component {\\n    constructor(props) {\\n        super(props);\\n\\n        this.handleChange = (e) => {\\n            this.props.changeColor(e.target.value);\\n        }\\n    }\\n\\n    render() {\\n        return (\\n            <div className='palette primary'>\\n                {\\n                    colors.map((color,index) => (\\n                        <div \\n                            key={index} \\n                            style={{backgroundColor: `${color}`}} \\n                            className={`blockbutton` + (this.props.isSelected(color) ? \\\"selected\\\" : \\\"\\\")}\\n                            onClick={() => {this.props.changeColor(color);}}\\n                            //onClick={() => {console.log(button.blockid)}}\\n                            ></div>\\n                    ))\\n                }\\n                <input value={this.props.color} type={\\\"color\\\"} onChange={this.handleChange} ></input>\\n                {/* <input type={\\\"submit\\\"} value={\\\"Apply\\\"}></input> */}\\n        </div>\\n        )\\n    }\\n\\n}\\n\\n\\n\\n\\nfunction App() {\\n  return (\\n    <AppWrapper/>\\n  );\\n}\\n\\nexport default App;\\n\",\"const reportWebVitals = onPerfEntry => {\\n  if (onPerfEntry && onPerfEntry instanceof Function) {\\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\\n      getCLS(onPerfEntry);\\n      getFID(onPerfEntry);\\n      getFCP(onPerfEntry);\\n      getLCP(onPerfEntry);\\n      getTTFB(onPerfEntry);\\n    });\\n  }\\n};\\n\\nexport default reportWebVitals;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom/client';\\nimport './index.css';\\nimport App from './App';\\nimport reportWebVitals from './reportWebVitals';\\n\\nconst root = ReactDOM.createRoot(document.getElementById('root'));\\nroot.render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>\\n);\\n\\n// If you want to start measuring performance in your app, pass a function\\n// to log results (for example: reportWebVitals(console.log))\\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\\nreportWebVitals();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){\"use strict\";n.r(e);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),s=(n(18),n(4)),c=n(3),u=n(5),l=n(8),h=n(1),d=n(2);n(19);function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},r=\"function\"==typeof Symbol?Symbol:{},o=r.iterator||\"@@iterator\",i=r.asyncIterator||\"@@asyncIterator\",s=r.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(T){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),s=new M(r||[]);return a(i,\"_invoke\",{value:k(t,n,s)}),i}function l(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(T){return{type:\"throw\",arg:T}}}t.wrap=u;var h={};function d(){}function p(){}function m(){}var v={};c(v,o,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(F([])));y&&y!==e&&n.call(y,o)&&(v=y);var w=m.prototype=d.prototype=Object.create(v);function b(t){[\"next\",\"throw\",\"return\"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function x(t,e){var r;a(this,\"_invoke\",{value:function(a,o){function i(){return new e(function(r,i){!function a(r,o,i,s){var c=l(t[r],t,o);if(\"throw\"!==c.type){var u=c.arg,h=u.value;return h&&\"object\"==typeof h&&n.call(h,\"__await\")?e.resolve(h.__await).then(function(t){a(\"next\",t,i,s)},function(t){a(\"throw\",t,i,s)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return a(\"throw\",t,i,s)})}s(c.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}})}function k(t,e,n){var a=\"suspendedStart\";return function(r,o){if(\"executing\"===a)throw new Error(\"Generator is already running\");if(\"completed\"===a){if(\"throw\"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===h)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===a)throw a=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);a=\"executing\";var c=l(t,e,n);if(\"normal\"===c.type){if(a=n.done?\"completed\":\"suspendedYield\",c.arg===h)continue;return{value:c.arg,done:n.done}}\"throw\"===c.type&&(a=\"completed\",n.method=\"throw\",n.arg=c.arg)}}}function C(t,e){var n=e.method,a=t.iterator[n];if(void 0===a)return e.delegate=null,\"throw\"===n&&t.iterator.return&&(e.method=\"return\",e.arg=void 0,C(t,e),\"throw\"===e.method)||\"return\"!==n&&(e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),h;var r=l(a,t.iterator,e.arg);if(\"throw\"===r.type)return e.method=\"throw\",e.arg=r.arg,e.delegate=null,h;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,h):o:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,h)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(_,this),this.reset(!0)}function F(t){if(t){var e=t[o];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function e(){for(;++a<t.length;)if(n.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,a(w,\"constructor\",{value:m,configurable:!0}),a(m,\"constructor\",{value:p,configurable:!0}),p.displayName=c(m,s,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===p||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,\"GeneratorFunction\")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},b(x.prototype),c(x.prototype,i,function(){return this}),t.AsyncIterator=x,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var i=new x(u(e,n,a,r),o);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(w),c(w,s,\"Generator\"),c(w,o,function(){return this}),c(w,\"toString\",function(){return\"[object Generator]\"}),t.keys=function(t){var e=Object(t),n=[];for(var a in e)n.push(a);return n.reverse(),function t(){for(;n.length;){var a=n.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=F,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function a(n,a){return i.type=\"throw\",i.arg=t,e.next=n,a&&(e.method=\"next\",e.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if(\"root\"===o.tryLoc)return a(\"end\");if(o.tryLoc<=this.prev){var s=n.call(o,\"catchLoc\"),c=n.call(o,\"finallyLoc\");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,\"finallyLoc\")&&this.prev<r.finallyLoc){var o=r;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,h):this.complete(i)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if(\"throw\"===a.type){var r=a.arg;E(n)}return r}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,n){return this.delegate={iterator:F(t),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),h}},t}var p=0,m=2,v=[\"#000000\",\"#FFFFFF\",\"#FF0000\",\"#00FF00\",\"#0000FF\",\"#FFFF00\",\"#FF00FF\",\"#00FFFF\",\"#800000\",\"#008000\",\"#000080\",\"#808000\",\"#800080\",\"#008080\",\"#808080\",\"#C0C0C0\",\"#FFC0CB\",\"#FFA07A\",\"#FF7F50\",\"#FF6347\",\"#FF4500\",\"#FF8C00\",\"#FFD700\",\"#FFFFE0\",\"#EEE8AA\",\"#ADFF2F\",\"#32CD32\",\"#00FA9A\",\"#00CED1\",\"#6A5ACD\",\"#7B68EE\",\"#FF69B4\",\"#8B4513\"];function g(t,e,n,a,r){var o=n-t,i=a-e,s=1;i<0&&(s=-1,i=-i);for(var c=2*i-o,u=e,l=t;l<n+1;l++)r(l,u),c>0?(u+=s,c+=2*(i-o)):c+=2*i}function y(t,e,n,a,r){var o=n-t,i=a-e,s=1;o<0&&(s=-1,o=-o);for(var c=2*o-i,u=t,l=e;l<a+1;l++)r(u,l),c>0?(u+=s,c+=2*(o-i)):c+=2*o}function w(t,e,n,a){var r=t.x+n.x,o=t.y+n.y,i=e.x+n.x,s=e.y+n.y;r===i&&o===s&&a(r,o),Math.abs(s-o)<Math.abs(i-r)?r>i?g(i,s,r,o,a):g(r,o,i,s,a):o>s?y(i,s,r,o,a):y(r,o,i,s,a)}function b(t){return parseInt(t.substring(1),16)}function x(t){return\"#\"+(16777215&t).toString(16).padStart(6,\"0\")}var k=function(){function t(e,n){Object(h.a)(this,t),this.x=e,this.y=n}return Object(d.a)(t,[{key:\"transform\",value:function(t,e){this.x+=t,this.y+=e}},{key:\"setTo\",value:function(t,e){this.x=t,this.y=e}},{key:\"isEqualTo\",value:function(t){return this.x===t.x&&this.y===t.y}},{key:\"notEqualTo\",value:function(t){return this.x!==t.x||this.y!==t.y}},{key:\"positive\",value:function(){return this.x>=0&&this.y>=0}},{key:\"multipliedby\",value:function(e){return new t(this.x*e,this.y*e)}},{key:\"transformedby\",value:function(e,n){return new t(this.x+e,this.y+n)}}]),t}(),C=function(){function t(){Object(h.a)(this,t),this.data=null,this.dataview=null,this.numchunks=null,this.cellsize=2}return Object(d.a)(t,[{key:\"getValues\",value:function(t,e,n){var a=16*n,r=new k(0,0),o=new k(0,0);o.x=0===e.x?0:Math.floor(-1*e.x/a),o.y=0===e.y?0:Math.floor(-1*e.y/a);var i=t.getBoundingClientRect(),s=i.width,c=i.height;return r.x=Math.ceil(s/a)+1,r.y=Math.ceil(c/a)+1,{startpoint:o,numchunks:r}}},{key:\"setMatrix\",value:function(){var t=Object(l.a)(f().mark(function t(e,n,a,r,o){var i,s,c,u,l;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=[],s=this,c=0;c<e.x;c++)for(u=0;u<e.y;u++)l={x:n.x+c,y:n.y+u},i.push(l);return t.abrupt(\"return\",new Promise(function(t,n){fetch(\"/getchunks\",{method:\"POST\",headers:{Accept:\"application/octet-stream\",\"Content-Type\":\"application/json\"},body:JSON.stringify({coords:i,lines:a})}).then(function(t){return t.arrayBuffer()}).then(function(n){s.numchunks=e;var a=Date.now();s.data=new ArrayBuffer(n.byteLength*r*r),s.dataview=new Uint32Array(s.data);for(var i=new Uint32Array(n),c=0;c<s.numchunks.x;c++)for(var u=0;u<s.numchunks.y;u++)for(var l=0;l<16;l++)for(var h=0;h<16;h++)for(var d=16*c*r+u*s.numchunks.x*256*r*r+l*r+h*s.numchunks.x*16*r*r,f=i[s.getDataIndex(c,u,l,h)],p=f<<16&16711680|4278255360&f|f>>16&255,m=0;m<r;m++)for(var v=0;v<r;v++){var g=d+m+v*s.numchunks.x*16*r;s.dataview[g]=p}s.cellsize=r,o(Date.now()-a),t()})}));case 4:case\"end\":return t.stop()}},t,this)}));return function(e,n,a,r,o){return t.apply(this,arguments)}}()},{key:\"getChunkPosOffset\",value:function(t,e){var n=Math.floor(t.x/16)-e.x,a=t.x-16*(n+e.x),r=Math.floor(t.y/16)-e.y;return{i:n,j:r,k:a,l:t.y-16*(r+e.y)}}},{key:\"addCell\",value:function(t,e){this.dataview[t]=e}},{key:\"getDataIndex\",value:function(t,e,n,a){return t*this.numchunks.y*256+256*e+16*n+a}}]),t}(),_=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).state={tool_mode:m,debug_mode:!1,show_stats:!0,color_selected:1672153,update:{time:0,tot_time:0,num_updates:1},transcode:{time:0,tot_time:0,num_updates:1},draw:{time:0,tot_time:0,num_updates:1},cursorx:0,cursory:0,offsetx:0,offsety:0,chunkx:0,chunky:0,cxstart:0,cystart:0,cxend:0,cyend:0},n.getColorSelected=function(){return n.state.color_selected},n.getDebugMode=function(){return n.state.debug_mode},n.getToolMode=function(){return n.state.tool_mode},n.changeToolMode=function(t){n.setState({tool_mode:t})},n.changeColor=function(t){if(\"string\"===typeof t){var e=b(t);n.setState({color_selected:e})}else\"number\"===typeof t&&n.setState({color_selected:t});n.changeToolMode(p)},n.isSelected=function(t){return\"string\"===typeof t?b(t)===n.state.color_selected:\"number\"===typeof t?t===n.state.color_selected:void 0},n.changeUpdateTime=function(t){n.setState({update:{time:t,tot_time:n.state.update.tot_time+t,num_updates:n.state.update.num_updates+1}})},n.changeTranscodeTime=function(t){n.setState({transcode:{time:t,tot_time:n.state.transcode.tot_time+t,num_updates:n.state.transcode.num_updates+1}})},n.changeDrawTime=function(t){n.setState({draw:{time:t,tot_time:n.state.draw.tot_time+t,num_updates:n.state.draw.num_updates+1}})},n.changeCursorLoc=function(t){n.setState({cursorx:t.x,cursory:t.y})},n.changeOffsetLoc=function(t){n.setState({offsetx:t.x,offsety:t.y})},n.changeChunkLoc=function(t,e){n.setState({chunkx:t,chunky:e})},n}return Object(u.a)(e,t),Object(d.a)(e,[{key:\"componentDidMount\",value:function(){document.body.style.overflow=\"hidden\"}},{key:\"mapDownload\",value:function(){var t,e={x1:this.state.cxstart,y1:this.state.cystart,x2:this.state.cxend,y2:this.state.cyend};e.x1===e.x2||e.y1===e.y2||e.x1>e.x2||e.y1>e.y2||fetch(\"/getimage\",{method:\"POST\",headers:{Accept:\"application/octet-stream\",\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then(function(e){return t=e.headers.get(\"Content-Disposition\").split('\"')[1],e.blob()}).then(function(e){var n=window.URL.createObjectURL(e),a=document.createElement(\"a\");a.href=n,a.setAttribute(\"download\",t),document.body.appendChild(a),a.click(),a.parentNode.removeChild(a)})}},{key:\"render\",value:function(){var t=this;return r.a.createElement(\"div\",{className:\"App-wrapper\"},r.a.createElement(E,{toolmode:this.state.tool_mode,getToolMode:this.getToolMode,changeToolMode:this.changeToolMode,getDebugMode:this.getDebugMode,changeUpdateTime:this.changeUpdateTime,changeTranscodeTime:this.changeTranscodeTime,changeDrawTime:this.changeDrawTime,getColorSelected:this.getColorSelected,changeCursorLoc:this.changeCursorLoc,changeOffsetLoc:this.changeOffsetLoc,changeChunkLoc:this.changeChunkLoc,changeColor:this.changeColor}),r.a.createElement(M,{isSelected:this.isSelected,changeColor:this.changeColor,color:this.state.color_selected}),r.a.createElement(\"div\",{className:\"drawer primary\"},this.state.show_stats?r.a.createElement(\"div\",{style:{position:\"absolute\",right:\"0.8vw\"}},\"(\",this.state.update.time,\"ms, avg: \",Math.round(this.state.update.tot_time/this.state.update.num_updates),\"ms, \",this.state.update.num_updates,\" updates)\",r.a.createElement(\"br\",null),\"(\",this.state.transcode.time,\"ms, avg: \",Math.round(this.state.transcode.tot_time/this.state.transcode.num_updates),\"ms, \",this.state.transcode.num_updates,\" transcodes);\",r.a.createElement(\"br\",null),\"(\",this.state.draw.time,\"ms, avg: \",Math.round(this.state.draw.tot_time/this.state.draw.num_updates),\"ms, \",this.state.draw.num_updates,\" draws)\",r.a.createElement(\"br\",null),\"Cursor: (\",this.state.cursorx,\",\",this.state.cursory,\")\",r.a.createElement(\"br\",null),\"Offset: (\",this.state.offsetx,\",\",this.state.offsety,\")\",r.a.createElement(\"br\",null),\"Chunk: (\",this.state.chunkx,\",\",this.state.chunky,\")\"):null,r.a.createElement(\"div\",{className:\"toolbutton\"+(this.getToolMode()===p?\"selected\":\"\")+\" blockbutton\"+(this.getToolMode()===p?\"selected\":\"\"),onClick:function(){t.changeToolMode(p)}},\"draw\"),r.a.createElement(\"div\",{className:\"toolbutton\"+(1===this.getToolMode()?\"selected\":\"\")+\" blockbutton\"+(1===this.getToolMode()?\"selected\":\"\"),onClick:function(){t.changeToolMode(1)}},\"eyedrop\"),r.a.createElement(\"div\",{className:\"toolbutton\"+(this.getToolMode()===m?\"selected\":\"\")+\" blockbutton\"+(this.getToolMode()===m?\"selected\":\"\"),onClick:function(){t.changeToolMode(m)}},\"move\"),r.a.createElement(\"input\",{checked:this.state.debug_mode,type:\"checkbox\",onChange:function(){t.setState({debug_mode:!t.state.debug_mode})}}),\" Debug Mode\\u2002\",r.a.createElement(\"input\",{checked:this.state.show_stats,type:\"checkbox\",onChange:function(){t.setState({show_stats:!t.state.show_stats})}}),\" Stats\",r.a.createElement(\"table\",{className:\"download-wrapper\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(\"p\",null,\"from:\\xa0\"),r.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cxstart:parseInt(e.target.value)})}}),r.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cystart:parseInt(e.target.value)})}}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(\"p\",null,\"to:\\xa0\"),r.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cxend:parseInt(e.target.value)})}}),r.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cyend:parseInt(e.target.value)})}}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(\"p\",null,\"Save PNG:\"),r.a.createElement(\"div\",{className:\"download-button\",onClick:function(){return t.mapDownload()}},r.a.createElement(\"img\",{src:\"save.png\",alt:\"save\"}))))))))}}]),e}(r.a.Component),E=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).drawLines=[],n.lastdraw=0,n.scale=4,n.tempscale=n.scale,n.cellpos={i:0,j:0,k:0,l:0},n.map_grid=null,n.canvasRef=Object(a.createRef)(),n.mapoffset=new k(0,0),n.celloffset=new k(0,0),n.currentcell=new k(0,0),n.startpoint=new k(0,0),n.cursorcurrent=new k(0,0),n.lmousedown=!1,n.rmousedown=!1,n.mousepos=new k(0,0),n.canvas=null,n.replacecanvas=null,n.is_updating=!1,n.drawcache=[],n}return Object(u.a)(e,t),Object(d.a)(e,[{key:\"componentDidMount\",value:function(){var t=this;this.canvas=this.canvasRef.current,this.replacecanvas=document.createElement(\"canvas\"),this.map_grid=new C,this.resizeCanvas(this.canvas),window.addEventListener(\"resize\",function(){return t.resizeCanvas(t.canvas)}),setTimeout(this.updateCanvas(),1e3)}},{key:\"getCursorPosition\",value:function(t,e){var n=e.getBoundingClientRect(),a=t.clientX-n.left,r=t.clientY-n.top,o=new k(a/(this.tempscale/this.scale),r/(this.tempscale/this.scale));return this.mousepos=o,o}},{key:\"getCurrentCell\",value:function(){var t=Math.floor((this.cursorcurrent.x-this.mapoffset.x*this.scale)/this.scale),e=Math.floor((this.cursorcurrent.y-this.mapoffset.y*this.scale)/this.scale);return new k(t,e)}},{key:\"moveMap\",value:function(t,e){var n=(e.x-t.x)/this.scale,a=(e.y-t.y)/this.scale;this.mapoffset.transform(n,a),this.celloffset.setTo(Math.floor(this.mapoffset.x),Math.floor(this.mapoffset.y)),this.props.changeOffsetLoc(this.celloffset)}},{key:\"drawMap\",value:function(t,e,n){var a=this,r=Date.now();if(null!==this.map_grid.data&&null!==this.map_grid.numchunks){var o,i,s=this.map_grid.cellsize,c=function(t,n,a,r){o=(16*(t+e.x)+a)*s+g,i=(16*(n+e.y)+r)*s+y,h.fillRect(o,i,s,s)},u=16*this.map_grid.numchunks.x*s;if(4*this.map_grid.data.byteLength%u===0){var l=new ImageData(new Uint8ClampedArray(this.map_grid.data),u),h=t.getContext(\"2d\"),d=this.replacecanvas.getContext(\"2d\");d.clearRect(0,0,this.replacecanvas.width,this.replacecanvas.height),d.putImageData(l,0,0);var f=t.getBoundingClientRect(),m=f.width,v=f.height;h.clearRect(0,0,m,v),h.fillStyle=\"#ffffff\",h.fillRect(0,0,m,v);var g=Math.floor(this.mapoffset.x*s),y=Math.floor(this.mapoffset.y*s),b=16*e.x*s+g,C=16*e.y*s+y;if(h.drawImage(this.replacecanvas,b,C),this.props.getDebugMode()){h.beginPath();for(var _=0;_<this.map_grid.numchunks.x;_++)for(var E=0;E<this.map_grid.numchunks.y;E++)o=16*(_+e.x)*s+g,i=16*(E+e.y)*s+y,h.fillStyle=\"#000000\",h.lineWidth=.01*Math.floor(this.scale),h.moveTo(o,0),h.lineTo(o,v),h.moveTo(0,i),h.lineTo(m,i);h.stroke()}this.drawcache.forEach(function(t){t.forEach(function(t){w(t.p1,t.p2,t.offset,function(e,n){var r=new k(e-t.offset.x,n-t.offset.y),o=a.map_grid.getChunkPosOffset(r,a.startpoint),i=o.i,s=o.j,u=o.k,l=o.l;h.fillStyle=x(t.blockid),c(i,s,u,l)})})}),this.props.toolmode===p&&(h.fillStyle=x(this.props.getColorSelected())+\"ff\",c(this.cellpos.i,this.cellpos.j,this.cellpos.k,this.cellpos.l)),this.props.changeDrawTime(Date.now()-r)}}}},{key:\"updateCanvas\",value:function(){var t=this,e=Date.now(),n=Math.floor(this.tempscale),a=this.map_grid.getValues(this.canvas,this.mapoffset.multipliedby(n),n),r=a.startpoint,o=a.numchunks,i=this.drawLines;this.drawLines=[],this.is_updating=!0,this.map_grid.setMatrix(o,r,i,n,this.props.changeTranscodeTime).then(function(){t.replacecanvas.width=n*o.x*16,t.replacecanvas.height=n*o.y*16,t.resizeCanvas(t.canvas),t.canvasscale(t.canvas,t.tempscale/n,t.tempscale/n),t.scale=Math.floor(t.tempscale),t.startpoint=r,t.drawMap(t.canvas,r,!0),t.props.changeUpdateTime(Date.now()-e),t.is_updating=!1}).then(function(){t.drawcache.push([]),t.drawcache.length>4&&t.drawcache.shift()}),setTimeout(function(){t.updateCanvas()},1e3)}},{key:\"resizeCanvas\",value:function(t){var e=t.getBoundingClientRect(),n=e.width,a=e.height;if(t.width!==n||t.height!==a){var r=window.devicePixelRatio,o=void 0===r?1:r,i=t.getContext(\"2d\");return t.width=1*n*o,t.height=1*a*o,i.scale(o,o),!0}return!1}},{key:\"canvasscale\",value:function(t,e,n){t.getContext(\"2d\").scale(e,n)}},{key:\"drawCellAtMouse\",value:function(t,e){var n=new k(t-this.celloffset.x,e-this.celloffset.y),a=this.map_grid.getChunkPosOffset(n,this.startpoint),r=a.i,o=a.j,i=a.k,s=a.l,c=this.map_grid.getDataIndex(r,o,i,s);c<this.map_grid.data.byteLength/4&&this.map_grid.addCell(c,this.props.getColorSelected())}},{key:\"moveCursor\",value:function(t){var e=!1,n=this.getCursorPosition(t,this.canvas);this.rmousedown&&(this.moveMap(this.cursorcurrent,n),e=!0),this.cursorcurrent=n;var a=this.getCurrentCell();return this.currentcell.isEqualTo(a)||(this.lmousedown&&this.drawLine(this.currentcell,a),this.currentcell=a,this.cellpos=this.map_grid.getChunkPosOffset(this.currentcell,this.startpoint),this.props.changeCursorLoc(this.currentcell),this.props.changeChunkLoc(this.cellpos.i+this.startpoint.x,this.cellpos.j+this.startpoint.y),e=!0),e}},{key:\"drawLine\",value:function(t,e){var n={p1:t,p2:e,offset:this.celloffset,blockid:this.props.getColorSelected()};this.drawcache[this.drawcache.length-1].push(n),this.drawLines.push(n)}},{key:\"render\",value:function(){var t=this;return r.a.createElement(\"div\",null,r.a.createElement(\"canvas\",{ref:this.canvasRef,className:\"map-canvas primary\",style:{cursor:function(){switch(t.props.toolmode){case 1:return\"crosshair\";case m:return\"move\";default:return\"default\"}}()},onContextMenu:function(t){t.preventDefault()},onMouseDown:function(e){if(e.preventDefault(),0===e.button)switch(t.props.toolmode){case 1:console.log(\"eyedroptool used\");var n=t.map_grid.getChunkPosOffset(t.currentcell,t.startpoint),a=n.i,r=n.j,o=n.k,i=n.l,s=t.map_grid.getDataIndex(a,r,o,i);t.props.changeColor(t.map_grid.dataview[s]);break;case m:t.rmousedown=!0;break;default:t.lmousedown=!0,t.drawLine(t.currentcell,t.currentcell),t.drawMap(t.canvas,t.startpoint)}else 2===e.button&&(t.rmousedown=!0)},onMouseUp:function(e){t.lmousedown=!1,t.rmousedown=!1,t.drawMap(t.canvas,t.startpoint)},onMouseMove:function(e){t.moveCursor(e)&&t.drawMap(t.canvas,t.startpoint)},onMouseLeave:function(e){t.moveCursor(e),t.lmousedown=!1,t.rmousedown=!1,t.drawMap(t.canvas,t.startpoint)},onWheel:function(e){var n=t.tempscale-Math.floor(e.deltaY)/1e3,a=t.tempscale;t.tempscale=n>1?n:1;t.scale;console.log(t.tempscale);var r=t.tempscale/a;t.canvasscale(t.canvas,r,r),t.drawMap(t.canvas,t.startpoint)}}))}}]),e}(r.a.Component),M=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).handleChange=function(t){n.props.changeColor(t.target.value)},n}return Object(u.a)(e,t),Object(d.a)(e,[{key:\"render\",value:function(){var t=this;return r.a.createElement(\"div\",{className:\"palette primary\"},v.map(function(e,n){return r.a.createElement(\"div\",{key:n,style:{backgroundColor:\"\".concat(e)},className:\"blockbutton\"+(t.props.isSelected(e)?\"selected\":\"\"),onClick:function(){t.props.changeColor(e)}})}),r.a.createElement(\"input\",{value:this.props.color,type:\"color\",onChange:this.handleChange}))}}]),e}(r.a.Component);var F=function(){return r.a.createElement(_,null)},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then(function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),a(t),r(t),o(t),i(t)})};i.a.createRoot(document.getElementById(\"root\")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null))),L()},9:function(t,e,n){t.exports=n(20)}},[[9,1,2]]]);","extractedComments":[]}