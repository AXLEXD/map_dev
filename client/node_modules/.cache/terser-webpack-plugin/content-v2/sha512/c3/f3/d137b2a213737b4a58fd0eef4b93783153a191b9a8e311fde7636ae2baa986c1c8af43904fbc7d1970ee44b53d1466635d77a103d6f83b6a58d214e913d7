{"map":"{\"version\":3,\"sources\":[\"/Users/alex/Programming/web_development/map_dev_server/client/src/App.js\",\"/Users/alex/Programming/web_development/map_dev_server/client/src/reportWebVitals.js\",\"/Users/alex/Programming/web_development/map_dev_server/client/src/index.js\"],\"names\":[\"_regeneratorRuntime\",\"exports\",\"Op\",\"Object\",\"prototype\",\"hasOwn\",\"hasOwnProperty\",\"defineProperty\",\"obj\",\"key\",\"desc\",\"value\",\"$Symbol\",\"Symbol\",\"iteratorSymbol\",\"iterator\",\"asyncIteratorSymbol\",\"asyncIterator\",\"toStringTagSymbol\",\"toStringTag\",\"define\",\"enumerable\",\"configurable\",\"writable\",\"err\",\"wrap\",\"innerFn\",\"outerFn\",\"self\",\"tryLocsList\",\"protoGenerator\",\"Generator\",\"generator\",\"create\",\"context\",\"Context\",\"makeInvokeMethod\",\"tryCatch\",\"fn\",\"arg\",\"type\",\"call\",\"ContinueSentinel\",\"GeneratorFunction\",\"GeneratorFunctionPrototype\",\"IteratorPrototype\",\"this\",\"getProto\",\"getPrototypeOf\",\"NativeIteratorPrototype\",\"values\",\"Gp\",\"defineIteratorMethods\",\"forEach\",\"method\",\"_invoke\",\"AsyncIterator\",\"PromiseImpl\",\"previousPromise\",\"callInvokeWithMethodAndArg\",\"resolve\",\"reject\",\"invoke\",\"record\",\"result\",\"__await\",\"then\",\"unwrapped\",\"error\",\"state\",\"Error\",\"doneResult\",\"delegate\",\"delegateResult\",\"maybeInvokeDelegate\",\"sent\",\"_sent\",\"dispatchException\",\"abrupt\",\"done\",\"methodName\",\"undefined\",\"return\",\"TypeError\",\"info\",\"resultName\",\"next\",\"nextLoc\",\"pushTryEntry\",\"locs\",\"entry\",\"tryLoc\",\"catchLoc\",\"finallyLoc\",\"afterLoc\",\"tryEntries\",\"push\",\"resetTryEntry\",\"completion\",\"reset\",\"iterable\",\"iteratorMethod\",\"isNaN\",\"length\",\"i\",\"displayName\",\"isGeneratorFunction\",\"genFun\",\"ctor\",\"constructor\",\"name\",\"mark\",\"setPrototypeOf\",\"__proto__\",\"awrap\",\"async\",\"Promise\",\"iter\",\"keys\",\"val\",\"object\",\"reverse\",\"pop\",\"skipTempReset\",\"prev\",\"charAt\",\"slice\",\"stop\",\"rootRecord\",\"rval\",\"exception\",\"handle\",\"loc\",\"caught\",\"hasCatch\",\"hasFinally\",\"finallyEntry\",\"complete\",\"finish\",\"catch\",\"thrown\",\"delegateYield\",\"DRAWTOOL\",\"MOVETOOL\",\"colors\",\"plotLineLow\",\"x0\",\"y0\",\"x1\",\"y1\",\"drawFunc\",\"dx\",\"dy\",\"yi\",\"D\",\"y\",\"x\",\"plotLineHigh\",\"xi\",\"colorTo32Uint\",\"colorstring\",\"parseInt\",\"substring\",\"Vector2D\",\"_classCallCheck\",\"_createClass\",\"othervector\",\"number\",\"Map\",\"data\",\"dataview\",\"numchunks\",\"canvas\",\"offset\",\"scale\",\"chunkpixels\",\"startpoint\",\"Math\",\"floor\",\"_canvas$getBoundingCl\",\"getBoundingClientRect\",\"width\",\"height\",\"ceil\",\"_setMatrix\",\"_asyncToGenerator\",\"_callee\",\"dimn\",\"start\",\"lines\",\"cellsize\",\"coords\",\"map_grid\",\"j\",\"coordsobj\",\"_context\",\"fetch\",\"headers\",\"Accept\",\"Content-Type\",\"body\",\"JSON\",\"stringify\",\"arrayBuffer\",\"chunkbuffer\",\"Date\",\"now\",\"ArrayBuffer\",\"byteLength\",\"Uint32Array\",\"Uint32data\",\"k\",\"l\",\"bmp_index\",\"color\",\"getDataIndex\",\"finalcolor\",\"a\",\"b\",\"relative_index\",\"_x\",\"_x2\",\"_x3\",\"_x4\",\"apply\",\"arguments\",\"currentcell\",\"index\",\"colorhex\",\"AppWrapper\",\"_React$Component\",\"props\",\"_this\",\"_possibleConstructorReturn\",\"_getPrototypeOf\",\"tool_mode\",\"debug_mode\",\"show_stats\",\"color_selected\",\"update\",\"time\",\"tot_time\",\"num_updates\",\"draw\",\"cursorx\",\"cursory\",\"offsetx\",\"offsety\",\"chunkx\",\"chunky\",\"cxstart\",\"cystart\",\"cxend\",\"cyend\",\"getColorSelected\",\"getDebugMode\",\"getToolMode\",\"changeToolMode\",\"change_to\",\"setState\",\"changeColor\",\"out_num\",\"isSelected\",\"changeUpdateTime\",\"new_time\",\"changeDrawTime\",\"changeCursorLoc\",\"vector\",\"changeOffsetLoc\",\"changeChunkLoc\",\"_inherits\",\"document\",\"style\",\"overflow\",\"filename\",\"x2\",\"y2\",\"response\",\"get\",\"split\",\"blob\",\"pngblob\",\"url\",\"window\",\"URL\",\"createObjectURL\",\"link\",\"createElement\",\"href\",\"setAttribute\",\"appendChild\",\"click\",\"parentNode\",\"removeChild\",\"_this2\",\"React\",\"className\",\"MapCanvas\",\"toolmode\",\"Palette\",\"position\",\"right\",\"round\",\"onClick\",\"checked\",\"onChange\",\"defaultValue\",\"e\",\"target\",\"mapDownload\",\"src\",\"alt\",\"Component\",\"_React$Component2\",\"_this3\",\"drawLines\",\"lastdraw\",\"tempscale\",\"cellpos\",\"canvasRef\",\"createRef\",\"mapoffset\",\"celloffset\",\"cursorcurrent\",\"lmousedown\",\"rmousedown\",\"replacecanvas\",\"is_updating\",\"drawcache\",\"_this4\",\"current\",\"resizeCanvas\",\"addEventListener\",\"setTimeout\",\"updateCanvas\",\"event\",\"rect\",\"clientX\",\"left\",\"clientY\",\"top\",\"end\",\"transform\",\"setTo\",\"isupdate\",\"_this5\",\"imageData\",\"ImageData\",\"Uint8ClampedArray\",\"ctx\",\"getContext\",\"rctx\",\"clearRect\",\"putImageData\",\"_canvas$getBoundingCl2\",\"mapoffset_x\",\"mapoffset_y\",\"offset_x\",\"offset_y\",\"requestAnimationFrame\",\"drawImage\",\"pixelarray\",\"pixel\",\"fillStyle\",\"blockid\",\"toString\",\"padStart\",\"fillRect\",\"_this6\",\"tempupdatescale\",\"_this$map_grid$getVal\",\"getValues\",\"multipliedby\",\"linestosend\",\"setMatrix\",\"drawMap\",\"resetTransform\",\"_canvas$getBoundingCl3\",\"_window$devicePixelRa\",\"devicePixelRatio\",\"ratio\",\"currentpos\",\"_this$map_grid$getChu\",\"getChunkPosOffset\",\"dataindex\",\"addCell\",\"newcursorcurrent\",\"getCursorPosition\",\"moveMap\",\"newcurrentcell\",\"getCurrentCell\",\"isEqualTo\",\"drawLine\",\"p1\",\"p2\",\"_this7\",\"pixels\",\"abs\",\"plotLine\",\"thisdraw\",\"_this8\",\"ref\",\"cursor\",\"getCursor\",\"onContextMenu\",\"preventDefault\",\"onMouseDown\",\"button\",\"console\",\"log\",\"_this8$map_grid$getCh\",\"onMouseUp\",\"onMouseMove\",\"moveCursor\",\"onMouseLeave\",\"onWheel\",\"newscale\",\"deltaY\",\"oldtempscale\",\"scalenum\",\"_React$Component3\",\"_this9\",\"handleChange\",\"_this10\",\"map\",\"backgroundColor\",\"concat\",\"App\",\"reportWebVitals\",\"onPerfEntry\",\"Function\",\"__webpack_require__\",\"bind\",\"_ref\",\"getCLS\",\"getFID\",\"getFCP\",\"getLCP\",\"getTTFB\",\"ReactDOM\",\"createRoot\",\"getElementById\",\"render\",\"StrictMode\"],\"mappings\":\"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\",\"sourcesContent\":[\"import './App.css';\\nimport React, { createRef } from 'react';\\n\\n\\nconst UPDATEPERIOD = 1000;\\n\\nconst CHUNKSIZE = 16;\\n\\nconst LOWESTSCALE = 3;\\n\\nconst DRAWTOOL = 0;\\nconst EYEDROPTOOL = 1;\\nconst MOVETOOL = 2;\\n  \\n// const blocks = [\\n//     {\\n//         blockid: '0',\\n//         blockname: '1',\\n//         imagesrc: '#ffffff'\\n//     },\\n//     {\\n//         blockid: '1',\\n//         blockname: '2',\\n//         imagesrc: '#d1e7dc'\\n//     },\\n//     {\\n//         blockid: '2',\\n//         blockname: '3',\\n//         imagesrc: '#c4d4e1'\\n//     },\\n//     {\\n//         blockid: '3',\\n//         blockname: '4',\\n//         imagesrc: '#bcb5d3'\\n//     },\\n//     {\\n//         blockid: '4',\\n//         blockname: '5',\\n//         imagesrc: '#f5dbe2'\\n//     },\\n//     {\\n//         blockid: '5',\\n//         blockname: '6',\\n//         imagesrc: '#eeb6c9'\\n//     },\\n//     {\\n//         blockid: '6',\\n//         blockname: '7',\\n//         imagesrc: '#c49abf'\\n//     },\\n//     {\\n//         blockid: '7',\\n//         blockname: '8',\\n//         imagesrc: '#bada55'\\n//     },\\n//     {\\n//         blockid: '8',\\n//         blockname: '9',\\n//         imagesrc: '#ffd700'\\n//     },\\n//     {\\n//         blockid: '9',\\n//         blockname: '10',\\n//         imagesrc: '#f47b79'\\n//     },\\n//     {\\n//         blockid: 'a',\\n//         blockname: '11',\\n//         imagesrc: '#c6e2d4'\\n//     },\\n//     {\\n//         blockid: 'b',\\n//         blockname: '12',\\n//         imagesrc: '#b6d3c2'\\n//     },\\n//     {\\n//         blockid: 'c',\\n//         blockname: '13',\\n//         imagesrc: '#e0b1cb'\\n//     },\\n//     {\\n//         blockid: 'd',\\n//         blockname: '14',\\n//         imagesrc: '#d0a7b7'\\n//     },\\n//     {\\n//         blockid: 'e',\\n//         blockname: '15',\\n//         imagesrc: '#f3d1d3'\\n//     },\\n//     {\\n//         blockid: 'f',\\n//         blockname: '16',\\n//         imagesrc: '#e9b8c8'\\n//     }\\n// ];\\n\\nconst colors = [\\n    \\\"#000000\\\", // Black\\n    \\\"#FFFFFF\\\", // White\\n    \\\"#FF0000\\\", // Red\\n    \\\"#00FF00\\\", // Green\\n    \\\"#0000FF\\\", // Blue\\n    \\\"#FFFF00\\\", // Yellow\\n    \\\"#FF00FF\\\", // Magenta\\n    \\\"#00FFFF\\\", // Cyan\\n    \\\"#800000\\\", // Maroon\\n    \\\"#008000\\\", // Olive\\n    \\\"#000080\\\", // Navy\\n    \\\"#808000\\\", // Olive Drab\\n    \\\"#800080\\\", // Purple\\n    \\\"#008080\\\", // Teal\\n    \\\"#808080\\\", // Gray\\n    \\\"#C0C0C0\\\", // Silver\\n    \\\"#FFC0CB\\\", // Pink\\n    \\\"#FFA07A\\\", // Light Salmon\\n    \\\"#FF7F50\\\", // Coral\\n    \\\"#FF6347\\\", // Tomato\\n    \\\"#FF4500\\\", // Orange Red\\n    \\\"#FF8C00\\\", // Dark Orange\\n    \\\"#FFD700\\\", // Gold\\n    \\\"#FFFFE0\\\", // Light Yellow\\n    \\\"#EEE8AA\\\", // Pale Goldenrod\\n    \\\"#ADFF2F\\\", // Green Yellow\\n    \\\"#32CD32\\\", // Lime Green\\n    \\\"#00FA9A\\\", // Medium Spring Green\\n    \\\"#00CED1\\\", // Dark Turquoise\\n    \\\"#6A5ACD\\\", // Slate Blue\\n    \\\"#7B68EE\\\", // Medium Slate Blue\\n    \\\"#FF69B4\\\", // Hot Pink\\n    \\\"#8B4513\\\" // Saddle Brown\\n  ];\\n  \\n\\n\\nfunction plotLineLow(x0, y0, x1, y1, drawFunc) {\\n    let dx = x1 - x0;\\n    let dy = y1 - y0;\\n    let yi = 1;\\n    if (dy < 0) {\\n        yi = -1;\\n        dy = -dy;\\n    }\\n    let D = (2 * dy) - dx;\\n    let y = y0;\\n\\n    for (let x = x0;x<x1+1;x++) {\\n        drawFunc(x, y);\\n        if (D > 0) {\\n            y = y + yi;\\n            D = D + (2 * (dy - dx));\\n        } else {\\n            D = D + 2*dy;\\n        }\\n    }\\n}\\nfunction plotLineHigh(x0, y0, x1, y1, drawFunc) {\\n    let dx = x1 - x0;\\n    let dy = y1 - y0;\\n    let xi = 1;\\n    if (dx < 0) {\\n        xi = -1;\\n        dx = -dx;\\n    }\\n    let D = (2 * dx) - dy;\\n    let x = x0;\\n\\n    for (let y = y0;y<y1+1;y++) {\\n        drawFunc(x, y);\\n        if (D > 0) {\\n            x = x + xi;\\n            D = D + (2 * (dx - dy));\\n        } else {\\n            D = D + 2*dx;\\n        }\\n    }\\n}\\n\\nfunction plotLine(p1, p2, offset, drawFunc) {\\n    \\n    let x0 = p1.x+offset.x;\\n    let y0 = p1.y+offset.y;\\n    \\n    let x1 = p2.x+offset.x;\\n    let y1 = p2.y+offset.y;\\n\\n    if (x0===x1 && y0===y1) drawFunc(x0,y0);\\n\\n\\n    if (Math.abs(y1 - y0) < Math.abs(x1 - x0)) {\\n        if (x0 > x1) plotLineLow(x1, y1, x0, y0, drawFunc);\\n        else plotLineLow(x0, y0, x1, y1, drawFunc);\\n    }\\n    else {\\n        if (y0 > y1) plotLineHigh(x1, y1, x0, y0, drawFunc);\\n        else plotLineHigh(x0, y0, x1, y1, drawFunc);\\n    }\\n}\\n\\n\\nfunction colorTo32Uint(colorstring) {\\n    return parseInt(colorstring.substring(1), 16);\\n}\\nfunction colorToString(colornum) {\\n    return \\\"#\\\" + (colornum & 0x00FFFFFF).toString(16).padStart(6, '0');\\n}\\n\\nclass Vector2D {\\n    constructor(x,y) {\\n        this.x = x;\\n        this.y = y;\\n    }\\n\\n    transform(x,y) {\\n        this.x += x;\\n        this.y += y;\\n    }\\n\\n    setTo(x,y) {\\n        this.x = x;\\n        this.y = y;\\n    }\\n\\n    isEqualTo(othervector) {\\n        return (this.x===othervector.x && this.y===othervector.y);\\n    }\\n    notEqualTo(othervector) {\\n        return (this.x!==othervector.x || this.y!==othervector.y);\\n    }\\n\\n    positive() {\\n        return (this.x >= 0 && this.y >=0);\\n    }\\n\\n    multipliedby(number) {\\n        return new Vector2D(this.x*number,this.y*number);\\n    }\\n    transformedby(x,y) {\\n        return new Vector2D(this.x+x,this.y+y);\\n    }\\n}\\n\\n\\nclass Map {\\n    constructor() {\\n        // this.canvasdimensions = new Vector2D(w,h); // establishing at start means no resizing canvas element\\n        this.data = null;\\n        this.dataview = null;\\n        this.numchunks = null;\\n    }\\n\\n    getValues(canvas, offset, scale) {\\n        let chunkpixels = CHUNKSIZE*scale;\\n\\n        let numchunks = new Vector2D(0,0);\\n        let startpoint = new Vector2D(0,0);\\n\\n        startpoint.x = (offset.x === 0) ? 0 : Math.floor((-1*offset.x)/chunkpixels);\\n        startpoint.y = (offset.y === 0) ? 0 : Math.floor((-1*offset.y)/chunkpixels);\\n\\n        const { width, height } = canvas.getBoundingClientRect();\\n\\n        numchunks.x = Math.ceil(width/chunkpixels)+1; // bit cheaty - should probs optimise\\n        numchunks.y = Math.ceil(height/chunkpixels)+1;\\n\\n        return {startpoint, numchunks};\\n    }\\n\\n    async setMatrix(dimn, start, lines, cellsize) {\\n\\n        let coords = [];\\n        let map_grid = this;\\n\\n        for (let i=0;i<dimn.x;i++) {\\n            for (let j=0;j<dimn.y;j++) {\\n                let coordsobj = { x: start.x+i, y: start.y+j };\\n                coords.push(coordsobj);    \\n            }\\n        }\\n        return new Promise(function(resolve, reject) {\\n            fetch('/getchunks',{\\n                method: 'POST',\\n                headers: {'Accept': 'application/octet-stream', 'Content-Type': 'application/json'},\\n                body: JSON.stringify({coords:coords, lines:lines})\\n            }).then((data)=>{\\n                return data.arrayBuffer();\\n            }).then((chunkbuffer) => {\\n                \\n                map_grid.numchunks = dimn;\\n                let current = Date.now();\\n\\n\\n                // const cellsize = 10;\\n                map_grid.data = new ArrayBuffer(chunkbuffer.byteLength*cellsize*cellsize);\\n                map_grid.dataview = new Uint32Array(map_grid.data);\\n\\n                let Uint32data = new Uint32Array(chunkbuffer);\\n                \\n                for (let i=0;i<map_grid.numchunks.x;i++) {\\n                    for (let j=0;j<map_grid.numchunks.y;j++) {\\n                        for (let k=0;k<CHUNKSIZE;k++) {\\n                            for (let l=0;l<CHUNKSIZE;l++) {\\n                                let bmp_index = i*CHUNKSIZE*cellsize + j*map_grid.numchunks.x*(CHUNKSIZE*CHUNKSIZE)*cellsize*cellsize + k*cellsize + l*map_grid.numchunks.x*CHUNKSIZE*cellsize*cellsize;\\n                                let alex_index = map_grid.getDataIndex(i,j,k,l);\\n                                let color = Uint32data[alex_index];\\n                                let finalcolor = ((color << 16)&0x00FF0000) | ((color)&0xFF00FF00) | ((color>>16)&0x000000FF);\\n\\n                                for (let a=0;a<cellsize;a++) {\\n                                    for (let b=0;b<cellsize;b++) {\\n                                        let relative_index = bmp_index + a + b*map_grid.numchunks.x*CHUNKSIZE*cellsize;\\n                                        map_grid.dataview[relative_index] = finalcolor;\\n                                    }\\n                                }\\n                            }\\n                        }\\n                    }\\n                }\\n                \\n                // console.log(Date.now()-current);\\n                resolve();\\n            });\\n        });\\n    }\\n\\n    getChunkPosOffset(currentcell, startpoint) {\\n        const i = Math.floor((currentcell.x/CHUNKSIZE))-startpoint.x;\\n        const k = currentcell.x - (i+startpoint.x)*CHUNKSIZE;\\n\\n        const j = Math.floor((currentcell.y/CHUNKSIZE))-startpoint.y;\\n        const l = currentcell.y - (j+startpoint.y)*CHUNKSIZE;\\n\\n\\n        return {i, j, k, l};\\n    }\\n\\n    addCell(index,colorhex) {\\n        this.dataview[index] = colorhex;\\n        // console.log(data[index], colorhex);\\n    }\\n    getDataIndex(i,j,k,l) {\\n        return i*(this.numchunks.y)*(CHUNKSIZE*CHUNKSIZE)+j*(CHUNKSIZE*CHUNKSIZE)+k*CHUNKSIZE+l;\\n    }\\n}\\n\\n\\nclass AppWrapper extends React.Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            tool_mode: MOVETOOL,\\n            debug_mode: false,\\n            show_stats: true,\\n            color_selected: 1672153, \\n            update: {\\n                time: 0,\\n                tot_time: 0,\\n                num_updates: 1\\n            },\\n            draw: {\\n                time: 0,\\n                tot_time: 0,\\n                num_updates: 1\\n            },\\n            cursorx: 0,\\n            cursory: 0,\\n            offsetx: 0,\\n            offsety: 0,\\n            chunkx: 0,\\n            chunky: 0,\\n\\n            cxstart:0,\\n            cystart:0,\\n            cxend:0,\\n            cyend:0\\n        };\\n\\n        this.getColorSelected = () => {return this.state.color_selected};\\n        this.getDebugMode = () => {return this.state.debug_mode};\\n        this.getToolMode = () => {return this.state.tool_mode};\\n\\n        this.changeToolMode = (change_to) => {\\n            this.setState({tool_mode: change_to});\\n        }\\n\\n        this.changeColor = (color) => {\\n            if (typeof color === 'string') {\\n                let out_num = colorTo32Uint(color);\\n                this.setState({color_selected: out_num});\\n            }\\n            else if (typeof color === 'number') {\\n                this.setState({color_selected: color});\\n            }\\n            this.changeToolMode(DRAWTOOL);\\n        };\\n        this.isSelected = (color) => {\\n            if (typeof color === 'string') {\\n                let out_num = colorTo32Uint(color);\\n                return (out_num===this.state.color_selected);\\n            }\\n            else if (typeof color === 'number') {\\n                return (color===this.state.color_selected);\\n            }\\n        };\\n\\n        this.changeUpdateTime = (new_time) => {\\n            this.setState({update:{\\n                time: new_time, \\n                tot_time: this.state.update.tot_time+new_time, \\n                num_updates: this.state.update.num_updates+1\\n            }});\\n        }\\n        this.changeDrawTime = (new_time) => {\\n            this.setState({draw:{\\n                time: new_time, \\n                tot_time: this.state.draw.tot_time+new_time, \\n                num_updates: this.state.draw.num_updates+1\\n            }});\\n        }\\n        this.changeCursorLoc = (vector) => {\\n            this.setState({cursorx: vector.x,cursory: vector.y});\\n        }\\n        this.changeOffsetLoc = (vector) => {\\n            this.setState({offsetx: vector.x,offsety: vector.y});\\n        }\\n        this.changeChunkLoc = (x,y) => {\\n            this.setState({chunkx: x,chunky: y});\\n        }\\n    }\\n\\n    componentDidMount() {\\n        document.body.style.overflow = \\\"hidden\\\"; // stops user from scrolling the page\\n    }\\n\\n    mapDownload() {\\n        let filename;\\n        let coordsobj = {x1:this.state.cxstart,y1:this.state.cystart,x2:this.state.cxend,y2:this.state.cyend};\\n        if (coordsobj.x1===coordsobj.x2 || coordsobj.y1===coordsobj.y2 || coordsobj.x1>coordsobj.x2 || coordsobj.y1>coordsobj.y2) return;\\n\\n        fetch('/getimage',{\\n            method: 'POST',\\n            headers: {'Accept': 'application/octet-stream', 'Content-Type': 'application/json'},\\n            body: JSON.stringify(coordsobj)\\n        }).then((response) => {\\n            filename = response.headers.get('Content-Disposition').split('\\\"')[1];\\n            return response.blob()\\n        })\\n        .then((pngblob) => {\\n            const url = window.URL.createObjectURL(pngblob);\\n            const link = document.createElement('a');\\n            link.href = url;\\n            link.setAttribute('download',filename);\\n            document.body.appendChild(link);\\n            link.click();\\n            link.parentNode.removeChild(link);\\n        });\\n    }\\n\\n    render() {\\n        return (\\n            <div className='App-wrapper'>\\n                <MapCanvas \\n                    toolmode={this.state.tool_mode}\\n                    getToolMode={this.getToolMode}\\n                    changeToolMode={this.changeToolMode}\\n                    getDebugMode={this.getDebugMode}\\n                    changeUpdateTime={this.changeUpdateTime}\\n                    changeDrawTime={this.changeDrawTime}\\n                    getColorSelected={this.getColorSelected}\\n                    changeCursorLoc={this.changeCursorLoc}\\n                    changeOffsetLoc={this.changeOffsetLoc}\\n                    changeChunkLoc={this.changeChunkLoc}\\n                    changeColor={this.changeColor}\\n                />\\n                <Palette isSelected={this.isSelected} changeColor={this.changeColor} color={this.state.color_selected}/>\\n                <div className='drawer primary'>\\n                    {(this.state.show_stats)?(<div style={{position: `absolute`,right:`0.8vw`}}>\\n                        ({this.state.update.time}ms, avg: {Math.round(this.state.update.tot_time/this.state.update.num_updates)}ms, {this.state.update.num_updates} updates)\\n                        <br/>({this.state.draw.time}ms, avg: {Math.round(this.state.draw.tot_time/this.state.draw.num_updates)}ms, {this.state.draw.num_updates} draws)\\n                        <br/>Cursor: ({this.state.cursorx},{this.state.cursory})\\n                        <br/>Offset: ({this.state.offsetx},{this.state.offsety})\\n                        <br/>Chunk: ({this.state.chunkx},{this.state.chunky})\\n                    </div>):null}\\n\\n                    <div\\n                        className={`toolbutton` + (this.getToolMode()===DRAWTOOL ? \\\"selected\\\" : \\\"\\\")+ ` blockbutton` + (this.getToolMode()===DRAWTOOL ? \\\"selected\\\" : \\\"\\\")}\\n                        onClick={() => {this.changeToolMode(DRAWTOOL)}}\\n                    >draw</div>\\n                    <div\\n                        className={`toolbutton` + (this.getToolMode()===EYEDROPTOOL ? \\\"selected\\\" : \\\"\\\")+ ` blockbutton` + (this.getToolMode()===EYEDROPTOOL ? \\\"selected\\\" : \\\"\\\")}\\n                        onClick={() => {this.changeToolMode(EYEDROPTOOL)}}\\n                    >eyedrop</div>\\n                    <div\\n                        className={`toolbutton` + (this.getToolMode()===MOVETOOL ? \\\"selected\\\" : \\\"\\\")+ ` blockbutton` + (this.getToolMode()===MOVETOOL ? \\\"selected\\\" : \\\"\\\")}\\n                        onClick={() => {this.changeToolMode(MOVETOOL)}}\\n                    >move</div>\\n                    \\n\\n                    <input checked={this.state.debug_mode} type={\\\"checkbox\\\"} onChange={()=>{this.setState({debug_mode:!this.state.debug_mode})}}></input> Debug Mode&ensp;\\n                    <input checked={this.state.show_stats} type={\\\"checkbox\\\"} onChange={()=>{this.setState({show_stats:!this.state.show_stats})}}></input> Stats\\n                    <table\\n                        className={`download-wrapper`}\\n                        // onClick={() => this.fileDownload()}\\n                    ><tbody>\\n                        <tr>\\n                            <td>\\n                                <p>from:&nbsp;</p><input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cxstart:parseInt(e.target.value)})}></input>\\n                                <input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cystart:parseInt(e.target.value)})}></input>\\n                            </td>\\n                        </tr>\\n                        <tr>\\n                            <td>\\n                                <p>to:&nbsp;</p><input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cxend:parseInt(e.target.value)})}></input>\\n                                <input defaultValue={\\\"0\\\"} type={\\\"number\\\"} style={{width:\\\"35px\\\"}} onChange={(e)=>this.setState({cyend:parseInt(e.target.value)})}></input>\\n                            </td>\\n                        </tr>\\n                        <tr>\\n                            <td>\\n                                <p >Save PNG:</p>\\n                                <div className={`download-button`} onClick={() => this.mapDownload()}><img src='save.png' alt='save'/></div>\\n                            </td>\\n                        </tr>\\n                    </tbody></table>\\n                </div>\\n            </div>\\n        )\\n    }\\n}\\n\\nclass MapCanvas extends React.Component {\\n    constructor(props) {\\n        super(props);\\n\\n        this.drawLines = [];\\n\\n        this.lastdraw = 0;\\n\\n        this.scale = 4;\\n        this.tempscale = this.scale;\\n\\n        this.cellpos = {i:0,j:0,k:0,l:0};\\n\\n        this.map_grid = null;\\n        this.canvasRef = createRef();\\n    \\n        this.mapoffset = new Vector2D(0,0);\\n        this.celloffset = new Vector2D(0,0);\\n        this.currentcell = new Vector2D(0,0);\\n        this.startpoint = new Vector2D(0,0);\\n\\n        this.cursorcurrent = new Vector2D(0,0);\\n        this.lmousedown = false;\\n        this.rmousedown = false;\\n\\n        this.canvas = null;\\n        this.replacecanvas = null;\\n\\n        this.is_updating = false;\\n        this.drawcache = [];\\n    }\\n\\n\\n    //Called after element's initialisation\\n    componentDidMount() { \\n        this.canvas = this.canvasRef.current;\\n        this.replacecanvas = document.createElement('canvas');\\n        this.map_grid = new Map();\\n        this.resizeCanvas(this.canvas);\\n        window.addEventListener('resize', ()=>this.resizeCanvas(this.canvas));\\n        setTimeout(this.updateCanvas(), UPDATEPERIOD);\\n    }\\n\\n    getCursorPosition(event, canvas) {\\n        const rect = canvas.getBoundingClientRect();\\n        const x = event.clientX - rect.left;\\n        const y = event.clientY - rect.top;\\n        const pos = new Vector2D(x,y);\\n        return pos;\\n    }\\n\\n    getCurrentCell() {\\n        let x = Math.floor((this.cursorcurrent.x-this.mapoffset.x*this.scale)/(this.scale));\\n        let y = Math.floor((this.cursorcurrent.y-this.mapoffset.y*this.scale)/(this.scale));\\n        const pos = new Vector2D(x,y);\\n        return pos;\\n    }\\n\\n    moveMap(start, end) {\\n        let x = (end.x-start.x)/this.scale;\\n        let y = (end.y-start.y)/this.scale;\\n        this.mapoffset.transform(x,y);\\n        this.celloffset.setTo(Math.floor(this.mapoffset.x),Math.floor(this.mapoffset.y));\\n        this.props.changeOffsetLoc(this.celloffset);\\n    }\\n\\n    drawMap (canvas, startpoint, isupdate) {\\n        let start =  Date.now();\\n        if (this.map_grid.data===null || this.map_grid.numchunks===null) return;\\n\\n        let x,y;\\n        let doFill = (i,j,k,l) => {\\n\\n            x = (((i+startpoint.x)*CHUNKSIZE+k))*(this.scale)+mapoffset_x;\\n            y = (((j+startpoint.y)*CHUNKSIZE+l))*(this.scale)+mapoffset_y;\\n            ctx.fillRect(x, y, this.scale, this.scale);\\n            // console.log(x,y,cellapparentsize);\\n        }\\n\\n        let length = this.map_grid.numchunks.x*CHUNKSIZE*this.scale;\\n        if ((this.map_grid.data.byteLength*4)%length!==0) return;\\n        let imageData = new ImageData(new Uint8ClampedArray(this.map_grid.data), length);\\n\\n        const ctx = canvas.getContext(\\\"2d\\\");\\n\\n        const rctx = this.replacecanvas.getContext(\\\"2d\\\");\\n        rctx.clearRect(0,0,this.replacecanvas.width, this.replacecanvas.height);\\n        rctx.putImageData(imageData, 0, 0);\\n\\n        const { width, height } = canvas.getBoundingClientRect();\\n        // ctx.clearRect(0, 0, width, height);\\n        // ctx.fillStyle = \\\"#ffffff\\\";\\n        // ctx.fillRect(0, 0, width, height);\\n\\n        let mapoffset_x = Math.floor(this.mapoffset.x*this.scale);\\n        let mapoffset_y = Math.floor(this.mapoffset.y*this.scale);\\n        let offset_x = startpoint.x*CHUNKSIZE*this.scale+mapoffset_x;\\n        let offset_y = startpoint.y*CHUNKSIZE*this.scale+mapoffset_y;\\n\\n        requestAnimationFrame(()=>{\\n            ctx.drawImage(this.replacecanvas, offset_x, offset_y)\\n            // ctx.drawImage(this.replacecanvas, offset_x, offset_y);\\n\\n            // console.log(this.drawcache.length);\\n            this.drawcache.forEach((pixelarray)=>{\\n                pixelarray.forEach((pixel)=>{\\n                    // console.log(pixel);\\n                    ctx.fillStyle = \\\"#\\\" + (pixel.blockid & 0x00FFFFFF).toString(16).padStart(6, '0');\\n                    ctx.fillRect(pixel.x*this.scale, pixel.y*this.scale, this.scale, this.scale);\\n                });\\n            });\\n\\n            if (this.props.toolmode===DRAWTOOL) {\\n                // doFill(this.cellpos);\\n                ctx.fillStyle = \\\"#\\\"+(this.props.getColorSelected() & 0x00FFFFFF).toString(16).padStart(6, '0')+\\\"ff\\\";\\n                doFill(this.cellpos.i, this.cellpos.j, this.cellpos.k, this.cellpos.l);\\n            }\\n        });\\n\\n        this.props.changeDrawTime(Date.now()-start);\\n    }\\n\\n    updateCanvas() {\\n        let start = Date.now(); // time testing\\n\\n        let tempupdatescale = Math.floor(this.tempscale);\\n\\n        let {startpoint, numchunks} = this.map_grid.getValues(this.canvas, this.mapoffset.multipliedby(tempupdatescale), tempupdatescale);\\n        let linestosend = this.drawLines;\\n        this.drawLines = [];\\n        this.is_updating = true;\\n        this.map_grid.setMatrix(numchunks, startpoint, linestosend, tempupdatescale)\\n        .then(()=>{\\n            this.replacecanvas.width = tempupdatescale*numchunks.x*CHUNKSIZE;\\n            this.replacecanvas.height = tempupdatescale*numchunks.y*CHUNKSIZE;    \\n            this.drawMap(this.canvas, startpoint, true);\\n            this.startpoint = startpoint;\\n            this.props.changeUpdateTime(Date.now()-start);\\n            this.is_updating = false;\\n        }).then(()=>{\\n            // this.drawcache.forEach((draw) => {draw()});\\n            this.drawcache = [];\\n            this.scale = Math.floor(this.tempscale);\\n            this.canvas.getContext('2d').resetTransform();\\n            this.resizeCanvas(this.canvas);\\n        });\\n\\n        setTimeout(()=>{this.updateCanvas()}, UPDATEPERIOD);\\n    }\\n\\n    // stolen code lmao\\n    resizeCanvas(canvas) {\\n        const { width, height } = canvas.getBoundingClientRect();\\n        \\n        if (canvas.width !== width || canvas.height !== height) {\\n          const { devicePixelRatio:ratio=1 } = window;\\n          const context = canvas.getContext('2d');\\n          canvas.width = (1*width*ratio);\\n          canvas.height = (1*height*ratio);\\n          context.scale(ratio, ratio);\\n        //   canvas.style.width = `${width}px`;\\n        //   canvas.style.height = `${height}px`;\\n          return true;\\n        }\\n    \\n        return false\\n    }\\n\\n    drawCellAtMouse(x,y) {\\n        const currentpos = new Vector2D(x-this.celloffset.x,y-this.celloffset.y);\\n\\n        let {i, j, k, l} = this.map_grid.getChunkPosOffset(currentpos, this.startpoint);\\n        let dataindex = this.map_grid.getDataIndex(i,j,k,l);\\n        if (dataindex < this.map_grid.data.byteLength/4) this.map_grid.addCell(dataindex, this.props.getColorSelected());\\n    }\\n\\n    moveCursor(event) {\\n        let update = false;\\n        let newcursorcurrent = this.getCursorPosition(event, this.canvas);\\n        if (this.rmousedown) {\\n            this.moveMap(this.cursorcurrent, newcursorcurrent);\\n            update = true;\\n        }\\n        this.cursorcurrent = newcursorcurrent;\\n        let newcurrentcell = this.getCurrentCell();\\n        // Drawing line and updating stats\\n        if (!this.currentcell.isEqualTo(newcurrentcell)) {\\n            if (this.lmousedown) this.drawLine(this.currentcell,newcurrentcell);\\n            this.currentcell = newcurrentcell;\\n            this.cellpos = this.map_grid.getChunkPosOffset(this.currentcell, this.startpoint);\\n            this.props.changeCursorLoc(this.currentcell);\\n            this.props.changeChunkLoc(this.cellpos.i+this.startpoint.x,this.cellpos.j+this.startpoint.y);\\n            update = true;\\n        }\\n        return update;\\n    }\\n\\n    drawLine(p1,p2) {\\n        // let thisdraw = ()=>{plotLine(p1, p2, this.celloffset, (x,y)=>this.drawCellAtMouse(x,y))};\\n        let thisdraw = ()=>{\\n            let pixels = [];\\n            plotLine(p1, p2, this.celloffset, (x,y)=>{pixels.push({x:x,y:y, blockid:this.props.getColorSelected()})});\\n            return pixels;\\n        };\\n        this.drawcache.push(thisdraw());\\n        // thisdraw();\\n        // if (this.is_updating) {this.drawcache.push(thisdraw)};\\n        this.drawLines.push({p1:p1,p2:p2,offset:this.celloffset,blockid:this.props.getColorSelected()});\\n    }\\n\\n    render() {\\n        let getCursor = ()=>{\\n            switch (this.props.toolmode) {\\n                case EYEDROPTOOL:\\n                    return \\\"crosshair\\\";\\n                case MOVETOOL:\\n                    return \\\"move\\\";\\n                default:\\n                    return \\\"default\\\";\\n            }\\n        }\\n        return (<div>\\n            {/* <canvas ref={this.canvasRef2} style={{visibility:\\\"hidden\\\"}}></canvas> */}\\n            <canvas \\n                ref={this.canvasRef}\\n                className='map-canvas primary'\\n                style={{cursor:getCursor()}}\\n                onContextMenu={(e) => {\\n                    e.preventDefault();\\n                }}\\n                onMouseDown={(e) => {\\n                    e.preventDefault();\\n                    if (e.button === 0) {\\n                        switch (this.props.toolmode) {\\n                            case EYEDROPTOOL:\\n                                console.log(\\\"eyedroptool used\\\");\\n                                let {i,j,k,l} = this.map_grid.getChunkPosOffset(this.currentcell, this.startpoint);\\n                                let dataindex = this.map_grid.getDataIndex(i,j,k,l);\\n                                this.props.changeColor(this.map_grid.dataview[dataindex]);\\n                                // this.props.changeToolMode(DRAWTOOL);\\n                                break;\\n                            case MOVETOOL:\\n                                this.rmousedown=true;\\n                                break;\\n                            default:\\n                                this.lmousedown=true;\\n                                this.drawLine(this.currentcell,this.currentcell);\\n                                this.drawMap(this.canvas, this.startpoint);\\n                                break;\\n                        }\\n                    }\\n                    else if (e.button === 2) {\\n                        this.rmousedown=true;\\n                    }\\n                }}\\n                onMouseUp={(e) => {\\n                    this.lmousedown=false;\\n                    this.rmousedown=false;\\n                    this.drawMap(this.canvas, this.startpoint);\\n                }}\\n                onMouseMove={(e) => {\\n                    if (this.moveCursor(e)) this.drawMap(this.canvas, this.startpoint);\\n                }}\\n                onMouseLeave={(e) => {\\n                    this.moveCursor(e);\\n                    this.lmousedown=false;\\n                    this.rmousedown=false;\\n                    this.drawMap(this.canvas, this.startpoint);\\n                }}\\n                onWheel={(e) => {\\n                    let newscale = this.tempscale - Math.floor(e.deltaY)/1000;\\n                    // console.log(this.scale, this.tempscale);\\n                    let oldtempscale = this.tempscale;\\n                    if (newscale>LOWESTSCALE) this.tempscale = newscale;\\n                    else this.tempscale = LOWESTSCALE;\\n                    let oldscale = this.scale;\\n                    console.log(this.tempscale);\\n                    let scalenum = this.tempscale/oldtempscale;\\n                    this.canvas.getContext('2d').scale(scalenum, scalenum);\\n                    // this.scale = Math.floor(this.tempscale);\\n                    \\n                    this.drawMap(this.canvas, this.startpoint);\\n                }}\\n            ></canvas></div>\\n        )\\n    }\\n}\\n\\n// needs to be fixed up - maybe add useEffect()\\nclass Palette extends React.Component {\\n    constructor(props) {\\n        super(props);\\n\\n        this.handleChange = (e) => {\\n            this.props.changeColor(e.target.value);\\n        }\\n    }\\n\\n    render() {\\n        return (\\n            <div className='palette primary'>\\n                {\\n                    colors.map((color,index) => (\\n                        <div \\n                            key={index} \\n                            style={{backgroundColor: `${color}`}} \\n                            className={`blockbutton` + (this.props.isSelected(color) ? \\\"selected\\\" : \\\"\\\")}\\n                            onClick={() => {this.props.changeColor(color);}}\\n                            //onClick={() => {console.log(button.blockid)}}\\n                            ></div>\\n                    ))\\n                }\\n                <input value={this.props.color} type={\\\"color\\\"} onChange={this.handleChange} ></input>\\n                {/* <input type={\\\"submit\\\"} value={\\\"Apply\\\"}></input> */}\\n        </div>\\n        )\\n    }\\n\\n}\\n\\n\\n\\n\\nfunction App() {\\n  return (\\n    <AppWrapper/>\\n  );\\n}\\n\\nexport default App;\\n\",\"const reportWebVitals = onPerfEntry => {\\n  if (onPerfEntry && onPerfEntry instanceof Function) {\\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\\n      getCLS(onPerfEntry);\\n      getFID(onPerfEntry);\\n      getFCP(onPerfEntry);\\n      getLCP(onPerfEntry);\\n      getTTFB(onPerfEntry);\\n    });\\n  }\\n};\\n\\nexport default reportWebVitals;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom/client';\\nimport './index.css';\\nimport App from './App';\\nimport reportWebVitals from './reportWebVitals';\\n\\nconst root = ReactDOM.createRoot(document.getElementById('root'));\\nroot.render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>\\n);\\n\\n// If you want to start measuring performance in your app, pass a function\\n// to log results (for example: reportWebVitals(console.log))\\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\\nreportWebVitals();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){\"use strict\";n.r(e);var r=n(0),a=n.n(r),o=n(7),i=n.n(o),s=(n(18),n(4)),c=n(3),u=n(5),l=n(8),h=n(1),d=n(2);n(19);function f(){f=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},a=\"function\"==typeof Symbol?Symbol:{},o=a.iterator||\"@@iterator\",i=a.asyncIterator||\"@@asyncIterator\",s=a.toStringTag||\"@@toStringTag\";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},\"\")}catch(O){c=function(t,e,n){return t[e]=n}}function u(t,e,n,a){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),s=new M(a||[]);return r(i,\"_invoke\",{value:C(t,n,s)}),i}function l(t,e,n){try{return{type:\"normal\",arg:t.call(e,n)}}catch(O){return{type:\"throw\",arg:O}}}t.wrap=u;var h={};function d(){}function p(){}function m(){}var v={};c(v,o,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(F([])));y&&y!==e&&n.call(y,o)&&(v=y);var w=m.prototype=d.prototype=Object.create(v);function x(t){[\"next\",\"throw\",\"return\"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var a;r(this,\"_invoke\",{value:function(r,o){function i(){return new e(function(a,i){!function r(a,o,i,s){var c=l(t[a],t,o);if(\"throw\"!==c.type){var u=c.arg,h=u.value;return h&&\"object\"==typeof h&&n.call(h,\"__await\")?e.resolve(h.__await).then(function(t){r(\"next\",t,i,s)},function(t){r(\"throw\",t,i,s)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return r(\"throw\",t,i,s)})}s(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function C(t,e,n){var r=\"suspendedStart\";return function(a,o){if(\"executing\"===r)throw new Error(\"Generator is already running\");if(\"completed\"===r){if(\"throw\"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=k(i,n);if(s){if(s===h)continue;return s}}if(\"next\"===n.method)n.sent=n._sent=n.arg;else if(\"throw\"===n.method){if(\"suspendedStart\"===r)throw r=\"completed\",n.arg;n.dispatchException(n.arg)}else\"return\"===n.method&&n.abrupt(\"return\",n.arg);r=\"executing\";var c=l(t,e,n);if(\"normal\"===c.type){if(r=n.done?\"completed\":\"suspendedYield\",c.arg===h)continue;return{value:c.arg,done:n.done}}\"throw\"===c.type&&(r=\"completed\",n.method=\"throw\",n.arg=c.arg)}}}function k(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,\"throw\"===n&&t.iterator.return&&(e.method=\"return\",e.arg=void 0,k(t,e),\"throw\"===e.method)||\"return\"!==n&&(e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a '\"+n+\"' method\")),h;var a=l(r,t.iterator,e.arg);if(\"throw\"===a.type)return e.method=\"throw\",e.arg=a.arg,e.delegate=null,h;var o=a.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,h):o:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function M(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(E,this),this.reset(!0)}function F(t){if(t){var e=t[o];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,r(w,\"constructor\",{value:m,configurable:!0}),r(m,\"constructor\",{value:p,configurable:!0}),p.displayName=c(m,s,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===p||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,\"GeneratorFunction\")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(b.prototype),c(b.prototype,i,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(w),c(w,s,\"Generator\"),c(w,o,function(){return this}),c(w,\"toString\",function(){return\"[object Generator]\"}),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=F,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)\"t\"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type=\"throw\",i.arg=t,e.next=n,r&&(e.method=\"next\",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if(\"root\"===o.tryLoc)return r(\"end\");if(o.tryLoc<=this.prev){var s=n.call(o,\"catchLoc\"),c=n.call(o,\"finallyLoc\");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,\"finallyLoc\")&&this.prev<a.finallyLoc){var o=a;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,h):this.complete(i)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if(\"throw\"===r.type){var a=r.arg;_(n)}return a}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,n){return this.delegate={iterator:F(t),resultName:e,nextLoc:n},\"next\"===this.method&&(this.arg=void 0),h}},t}var p=0,m=2,v=[\"#000000\",\"#FFFFFF\",\"#FF0000\",\"#00FF00\",\"#0000FF\",\"#FFFF00\",\"#FF00FF\",\"#00FFFF\",\"#800000\",\"#008000\",\"#000080\",\"#808000\",\"#800080\",\"#008080\",\"#808080\",\"#C0C0C0\",\"#FFC0CB\",\"#FFA07A\",\"#FF7F50\",\"#FF6347\",\"#FF4500\",\"#FF8C00\",\"#FFD700\",\"#FFFFE0\",\"#EEE8AA\",\"#ADFF2F\",\"#32CD32\",\"#00FA9A\",\"#00CED1\",\"#6A5ACD\",\"#7B68EE\",\"#FF69B4\",\"#8B4513\"];function g(t,e,n,r,a){var o=n-t,i=r-e,s=1;i<0&&(s=-1,i=-i);for(var c=2*i-o,u=e,l=t;l<n+1;l++)a(l,u),c>0?(u+=s,c+=2*(i-o)):c+=2*i}function y(t,e,n,r,a){var o=n-t,i=r-e,s=1;o<0&&(s=-1,o=-o);for(var c=2*o-i,u=t,l=e;l<r+1;l++)a(u,l),c>0?(u+=s,c+=2*(o-i)):c+=2*o}function w(t){return parseInt(t.substring(1),16)}var x=function(){function t(e,n){Object(h.a)(this,t),this.x=e,this.y=n}return Object(d.a)(t,[{key:\"transform\",value:function(t,e){this.x+=t,this.y+=e}},{key:\"setTo\",value:function(t,e){this.x=t,this.y=e}},{key:\"isEqualTo\",value:function(t){return this.x===t.x&&this.y===t.y}},{key:\"notEqualTo\",value:function(t){return this.x!==t.x||this.y!==t.y}},{key:\"positive\",value:function(){return this.x>=0&&this.y>=0}},{key:\"multipliedby\",value:function(e){return new t(this.x*e,this.y*e)}},{key:\"transformedby\",value:function(e,n){return new t(this.x+e,this.y+n)}}]),t}(),b=function(){function t(){Object(h.a)(this,t),this.data=null,this.dataview=null,this.numchunks=null}return Object(d.a)(t,[{key:\"getValues\",value:function(t,e,n){var r=16*n,a=new x(0,0),o=new x(0,0);o.x=0===e.x?0:Math.floor(-1*e.x/r),o.y=0===e.y?0:Math.floor(-1*e.y/r);var i=t.getBoundingClientRect(),s=i.width,c=i.height;return a.x=Math.ceil(s/r)+1,a.y=Math.ceil(c/r)+1,{startpoint:o,numchunks:a}}},{key:\"setMatrix\",value:function(){var t=Object(l.a)(f().mark(function t(e,n,r,a){var o,i,s,c,u;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(o=[],i=this,s=0;s<e.x;s++)for(c=0;c<e.y;c++)u={x:n.x+s,y:n.y+c},o.push(u);return t.abrupt(\"return\",new Promise(function(t,n){fetch(\"/getchunks\",{method:\"POST\",headers:{Accept:\"application/octet-stream\",\"Content-Type\":\"application/json\"},body:JSON.stringify({coords:o,lines:r})}).then(function(t){return t.arrayBuffer()}).then(function(n){i.numchunks=e;Date.now();i.data=new ArrayBuffer(n.byteLength*a*a),i.dataview=new Uint32Array(i.data);for(var r=new Uint32Array(n),o=0;o<i.numchunks.x;o++)for(var s=0;s<i.numchunks.y;s++)for(var c=0;c<16;c++)for(var u=0;u<16;u++)for(var l=16*o*a+s*i.numchunks.x*256*a*a+c*a+u*i.numchunks.x*16*a*a,h=r[i.getDataIndex(o,s,c,u)],d=h<<16&16711680|4278255360&h|h>>16&255,f=0;f<a;f++)for(var p=0;p<a;p++){var m=l+f+p*i.numchunks.x*16*a;i.dataview[m]=d}t()})}));case 4:case\"end\":return t.stop()}},t,this)}));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:\"getChunkPosOffset\",value:function(t,e){var n=Math.floor(t.x/16)-e.x,r=t.x-16*(n+e.x),a=Math.floor(t.y/16)-e.y;return{i:n,j:a,k:r,l:t.y-16*(a+e.y)}}},{key:\"addCell\",value:function(t,e){this.dataview[t]=e}},{key:\"getDataIndex\",value:function(t,e,n,r){return t*this.numchunks.y*256+256*e+16*n+r}}]),t}(),C=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).state={tool_mode:m,debug_mode:!1,show_stats:!0,color_selected:1672153,update:{time:0,tot_time:0,num_updates:1},draw:{time:0,tot_time:0,num_updates:1},cursorx:0,cursory:0,offsetx:0,offsety:0,chunkx:0,chunky:0,cxstart:0,cystart:0,cxend:0,cyend:0},n.getColorSelected=function(){return n.state.color_selected},n.getDebugMode=function(){return n.state.debug_mode},n.getToolMode=function(){return n.state.tool_mode},n.changeToolMode=function(t){n.setState({tool_mode:t})},n.changeColor=function(t){if(\"string\"===typeof t){var e=w(t);n.setState({color_selected:e})}else\"number\"===typeof t&&n.setState({color_selected:t});n.changeToolMode(p)},n.isSelected=function(t){return\"string\"===typeof t?w(t)===n.state.color_selected:\"number\"===typeof t?t===n.state.color_selected:void 0},n.changeUpdateTime=function(t){n.setState({update:{time:t,tot_time:n.state.update.tot_time+t,num_updates:n.state.update.num_updates+1}})},n.changeDrawTime=function(t){n.setState({draw:{time:t,tot_time:n.state.draw.tot_time+t,num_updates:n.state.draw.num_updates+1}})},n.changeCursorLoc=function(t){n.setState({cursorx:t.x,cursory:t.y})},n.changeOffsetLoc=function(t){n.setState({offsetx:t.x,offsety:t.y})},n.changeChunkLoc=function(t,e){n.setState({chunkx:t,chunky:e})},n}return Object(u.a)(e,t),Object(d.a)(e,[{key:\"componentDidMount\",value:function(){document.body.style.overflow=\"hidden\"}},{key:\"mapDownload\",value:function(){var t,e={x1:this.state.cxstart,y1:this.state.cystart,x2:this.state.cxend,y2:this.state.cyend};e.x1===e.x2||e.y1===e.y2||e.x1>e.x2||e.y1>e.y2||fetch(\"/getimage\",{method:\"POST\",headers:{Accept:\"application/octet-stream\",\"Content-Type\":\"application/json\"},body:JSON.stringify(e)}).then(function(e){return t=e.headers.get(\"Content-Disposition\").split('\"')[1],e.blob()}).then(function(e){var n=window.URL.createObjectURL(e),r=document.createElement(\"a\");r.href=n,r.setAttribute(\"download\",t),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r)})}},{key:\"render\",value:function(){var t=this;return a.a.createElement(\"div\",{className:\"App-wrapper\"},a.a.createElement(k,{toolmode:this.state.tool_mode,getToolMode:this.getToolMode,changeToolMode:this.changeToolMode,getDebugMode:this.getDebugMode,changeUpdateTime:this.changeUpdateTime,changeDrawTime:this.changeDrawTime,getColorSelected:this.getColorSelected,changeCursorLoc:this.changeCursorLoc,changeOffsetLoc:this.changeOffsetLoc,changeChunkLoc:this.changeChunkLoc,changeColor:this.changeColor}),a.a.createElement(E,{isSelected:this.isSelected,changeColor:this.changeColor,color:this.state.color_selected}),a.a.createElement(\"div\",{className:\"drawer primary\"},this.state.show_stats?a.a.createElement(\"div\",{style:{position:\"absolute\",right:\"0.8vw\"}},\"(\",this.state.update.time,\"ms, avg: \",Math.round(this.state.update.tot_time/this.state.update.num_updates),\"ms, \",this.state.update.num_updates,\" updates)\",a.a.createElement(\"br\",null),\"(\",this.state.draw.time,\"ms, avg: \",Math.round(this.state.draw.tot_time/this.state.draw.num_updates),\"ms, \",this.state.draw.num_updates,\" draws)\",a.a.createElement(\"br\",null),\"Cursor: (\",this.state.cursorx,\",\",this.state.cursory,\")\",a.a.createElement(\"br\",null),\"Offset: (\",this.state.offsetx,\",\",this.state.offsety,\")\",a.a.createElement(\"br\",null),\"Chunk: (\",this.state.chunkx,\",\",this.state.chunky,\")\"):null,a.a.createElement(\"div\",{className:\"toolbutton\"+(this.getToolMode()===p?\"selected\":\"\")+\" blockbutton\"+(this.getToolMode()===p?\"selected\":\"\"),onClick:function(){t.changeToolMode(p)}},\"draw\"),a.a.createElement(\"div\",{className:\"toolbutton\"+(1===this.getToolMode()?\"selected\":\"\")+\" blockbutton\"+(1===this.getToolMode()?\"selected\":\"\"),onClick:function(){t.changeToolMode(1)}},\"eyedrop\"),a.a.createElement(\"div\",{className:\"toolbutton\"+(this.getToolMode()===m?\"selected\":\"\")+\" blockbutton\"+(this.getToolMode()===m?\"selected\":\"\"),onClick:function(){t.changeToolMode(m)}},\"move\"),a.a.createElement(\"input\",{checked:this.state.debug_mode,type:\"checkbox\",onChange:function(){t.setState({debug_mode:!t.state.debug_mode})}}),\" Debug Mode\\u2002\",a.a.createElement(\"input\",{checked:this.state.show_stats,type:\"checkbox\",onChange:function(){t.setState({show_stats:!t.state.show_stats})}}),\" Stats\",a.a.createElement(\"table\",{className:\"download-wrapper\"},a.a.createElement(\"tbody\",null,a.a.createElement(\"tr\",null,a.a.createElement(\"td\",null,a.a.createElement(\"p\",null,\"from:\\xa0\"),a.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cxstart:parseInt(e.target.value)})}}),a.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cystart:parseInt(e.target.value)})}}))),a.a.createElement(\"tr\",null,a.a.createElement(\"td\",null,a.a.createElement(\"p\",null,\"to:\\xa0\"),a.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cxend:parseInt(e.target.value)})}}),a.a.createElement(\"input\",{defaultValue:\"0\",type:\"number\",style:{width:\"35px\"},onChange:function(e){return t.setState({cyend:parseInt(e.target.value)})}}))),a.a.createElement(\"tr\",null,a.a.createElement(\"td\",null,a.a.createElement(\"p\",null,\"Save PNG:\"),a.a.createElement(\"div\",{className:\"download-button\",onClick:function(){return t.mapDownload()}},a.a.createElement(\"img\",{src:\"save.png\",alt:\"save\"}))))))))}}]),e}(a.a.Component),k=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).drawLines=[],n.lastdraw=0,n.scale=4,n.tempscale=n.scale,n.cellpos={i:0,j:0,k:0,l:0},n.map_grid=null,n.canvasRef=Object(r.createRef)(),n.mapoffset=new x(0,0),n.celloffset=new x(0,0),n.currentcell=new x(0,0),n.startpoint=new x(0,0),n.cursorcurrent=new x(0,0),n.lmousedown=!1,n.rmousedown=!1,n.canvas=null,n.replacecanvas=null,n.is_updating=!1,n.drawcache=[],n}return Object(u.a)(e,t),Object(d.a)(e,[{key:\"componentDidMount\",value:function(){var t=this;this.canvas=this.canvasRef.current,this.replacecanvas=document.createElement(\"canvas\"),this.map_grid=new b,this.resizeCanvas(this.canvas),window.addEventListener(\"resize\",function(){return t.resizeCanvas(t.canvas)}),setTimeout(this.updateCanvas(),1e3)}},{key:\"getCursorPosition\",value:function(t,e){var n=e.getBoundingClientRect(),r=t.clientX-n.left,a=t.clientY-n.top;return new x(r,a)}},{key:\"getCurrentCell\",value:function(){var t=Math.floor((this.cursorcurrent.x-this.mapoffset.x*this.scale)/this.scale),e=Math.floor((this.cursorcurrent.y-this.mapoffset.y*this.scale)/this.scale);return new x(t,e)}},{key:\"moveMap\",value:function(t,e){var n=(e.x-t.x)/this.scale,r=(e.y-t.y)/this.scale;this.mapoffset.transform(n,r),this.celloffset.setTo(Math.floor(this.mapoffset.x),Math.floor(this.mapoffset.y)),this.props.changeOffsetLoc(this.celloffset)}},{key:\"drawMap\",value:function(t,e,n){var r=this,a=Date.now();if(null!==this.map_grid.data&&null!==this.map_grid.numchunks){var o,i,s=16*this.map_grid.numchunks.x*this.scale;if(4*this.map_grid.data.byteLength%s===0){var c=new ImageData(new Uint8ClampedArray(this.map_grid.data),s),u=t.getContext(\"2d\"),l=this.replacecanvas.getContext(\"2d\");l.clearRect(0,0,this.replacecanvas.width,this.replacecanvas.height),l.putImageData(c,0,0);var h=t.getBoundingClientRect(),d=(h.width,h.height,Math.floor(this.mapoffset.x*this.scale)),f=Math.floor(this.mapoffset.y*this.scale),m=16*e.x*this.scale+d,v=16*e.y*this.scale+f;requestAnimationFrame(function(){var t,n,a,s;u.drawImage(r.replacecanvas,m,v),r.drawcache.forEach(function(t){t.forEach(function(t){u.fillStyle=\"#\"+(16777215&t.blockid).toString(16).padStart(6,\"0\"),u.fillRect(t.x*r.scale,t.y*r.scale,r.scale,r.scale)})}),r.props.toolmode===p&&(u.fillStyle=\"#\"+(16777215&r.props.getColorSelected()).toString(16).padStart(6,\"0\")+\"ff\",t=r.cellpos.i,n=r.cellpos.j,a=r.cellpos.k,s=r.cellpos.l,o=(16*(t+e.x)+a)*r.scale+d,i=(16*(n+e.y)+s)*r.scale+f,u.fillRect(o,i,r.scale,r.scale))}),this.props.changeDrawTime(Date.now()-a)}}}},{key:\"updateCanvas\",value:function(){var t=this,e=Date.now(),n=Math.floor(this.tempscale),r=this.map_grid.getValues(this.canvas,this.mapoffset.multipliedby(n),n),a=r.startpoint,o=r.numchunks,i=this.drawLines;this.drawLines=[],this.is_updating=!0,this.map_grid.setMatrix(o,a,i,n).then(function(){t.replacecanvas.width=n*o.x*16,t.replacecanvas.height=n*o.y*16,t.drawMap(t.canvas,a,!0),t.startpoint=a,t.props.changeUpdateTime(Date.now()-e),t.is_updating=!1}).then(function(){t.drawcache=[],t.scale=Math.floor(t.tempscale),t.canvas.getContext(\"2d\").resetTransform(),t.resizeCanvas(t.canvas)}),setTimeout(function(){t.updateCanvas()},1e3)}},{key:\"resizeCanvas\",value:function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;if(t.width!==n||t.height!==r){var a=window.devicePixelRatio,o=void 0===a?1:a,i=t.getContext(\"2d\");return t.width=1*n*o,t.height=1*r*o,i.scale(o,o),!0}return!1}},{key:\"drawCellAtMouse\",value:function(t,e){var n=new x(t-this.celloffset.x,e-this.celloffset.y),r=this.map_grid.getChunkPosOffset(n,this.startpoint),a=r.i,o=r.j,i=r.k,s=r.l,c=this.map_grid.getDataIndex(a,o,i,s);c<this.map_grid.data.byteLength/4&&this.map_grid.addCell(c,this.props.getColorSelected())}},{key:\"moveCursor\",value:function(t){var e=!1,n=this.getCursorPosition(t,this.canvas);this.rmousedown&&(this.moveMap(this.cursorcurrent,n),e=!0),this.cursorcurrent=n;var r=this.getCurrentCell();return this.currentcell.isEqualTo(r)||(this.lmousedown&&this.drawLine(this.currentcell,r),this.currentcell=r,this.cellpos=this.map_grid.getChunkPosOffset(this.currentcell,this.startpoint),this.props.changeCursorLoc(this.currentcell),this.props.changeChunkLoc(this.cellpos.i+this.startpoint.x,this.cellpos.j+this.startpoint.y),e=!0),e}},{key:\"drawLine\",value:function(t,e){var n=this;this.drawcache.push(function(){var r=[];return function(t,e,n,r){var a=t.x+n.x,o=t.y+n.y,i=e.x+n.x,s=e.y+n.y;a===i&&o===s&&r(a,o),Math.abs(s-o)<Math.abs(i-a)?a>i?g(i,s,a,o,r):g(a,o,i,s,r):o>s?y(i,s,a,o,r):y(a,o,i,s,r)}(t,e,n.celloffset,function(t,e){r.push({x:t,y:e,blockid:n.props.getColorSelected()})}),r}()),this.drawLines.push({p1:t,p2:e,offset:this.celloffset,blockid:this.props.getColorSelected()})}},{key:\"render\",value:function(){var t=this;return a.a.createElement(\"div\",null,a.a.createElement(\"canvas\",{ref:this.canvasRef,className:\"map-canvas primary\",style:{cursor:function(){switch(t.props.toolmode){case 1:return\"crosshair\";case m:return\"move\";default:return\"default\"}}()},onContextMenu:function(t){t.preventDefault()},onMouseDown:function(e){if(e.preventDefault(),0===e.button)switch(t.props.toolmode){case 1:console.log(\"eyedroptool used\");var n=t.map_grid.getChunkPosOffset(t.currentcell,t.startpoint),r=n.i,a=n.j,o=n.k,i=n.l,s=t.map_grid.getDataIndex(r,a,o,i);t.props.changeColor(t.map_grid.dataview[s]);break;case m:t.rmousedown=!0;break;default:t.lmousedown=!0,t.drawLine(t.currentcell,t.currentcell),t.drawMap(t.canvas,t.startpoint)}else 2===e.button&&(t.rmousedown=!0)},onMouseUp:function(e){t.lmousedown=!1,t.rmousedown=!1,t.drawMap(t.canvas,t.startpoint)},onMouseMove:function(e){t.moveCursor(e)&&t.drawMap(t.canvas,t.startpoint)},onMouseLeave:function(e){t.moveCursor(e),t.lmousedown=!1,t.rmousedown=!1,t.drawMap(t.canvas,t.startpoint)},onWheel:function(e){var n=t.tempscale-Math.floor(e.deltaY)/1e3,r=t.tempscale;t.tempscale=n>3?n:3;t.scale;console.log(t.tempscale);var a=t.tempscale/r;t.canvas.getContext(\"2d\").scale(a,a),t.drawMap(t.canvas,t.startpoint)}}))}}]),e}(a.a.Component),E=function(t){function e(t){var n;return Object(h.a)(this,e),(n=Object(s.a)(this,Object(c.a)(e).call(this,t))).handleChange=function(t){n.props.changeColor(t.target.value)},n}return Object(u.a)(e,t),Object(d.a)(e,[{key:\"render\",value:function(){var t=this;return a.a.createElement(\"div\",{className:\"palette primary\"},v.map(function(e,n){return a.a.createElement(\"div\",{key:n,style:{backgroundColor:\"\".concat(e)},className:\"blockbutton\"+(t.props.isSelected(e)?\"selected\":\"\"),onClick:function(){t.props.changeColor(e)}})}),a.a.createElement(\"input\",{value:this.props.color,type:\"color\",onChange:this.handleChange}))}}]),e}(a.a.Component);var _=function(){return a.a.createElement(C,null)},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,21)).then(function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),o(t),i(t)})};i.a.createRoot(document.getElementById(\"root\")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(_,null))),M()},9:function(t,e,n){t.exports=n(20)}},[[9,1,2]]]);","extractedComments":[]}